# π“– HTTP ν—¤λ”2 - μΊμ‹μ™€ μ΅°κ±΄λ¶€ μ”μ²­
<br/><br/>
# π” μΊμ‹ κΈ°λ³Έ λ™μ‘
### μΊμ‹κ°€ μ—†μ„ λ•
#### μ²« λ²μ§Έ μ”μ²­
![image](https://github.com/jang9205/spring_study/assets/123082616/2200322f-69c2-4c73-ac3e-51cace8b4394)<br/>
μ›Ή λΈλΌμ°μ €μ—μ„ μ²« λ²μ§Έ GET /star.jpg μ”μ²­μ„ ν•λ©΄, μ„λ²„λ” star.jpg μ΄λ―Έμ§€(1.1M)λ¥Ό λ‹΄μ•„ μ‘λ‹µμ„ λ³΄λ‚Έλ‹¤.<br/><br/>
#### λ‘ λ²μ§Έ μ”μ²­
![image](https://github.com/jang9205/spring_study/assets/123082616/5a4567ab-2027-4137-bfcf-4b13b130d538)<br/>
μ›Ή λΈλΌμ°μ €μ—μ„ λ‘ λ²μ§Έ GET /star.jpg μ”μ²­μ„ ν•λ©΄, μ„λ²„λ” star.jpg μ΄λ―Έμ§€(1.1M)λ¥Ό λ‹΄μ•„ μ‘λ‹µμ„ λ³΄λ‚Έλ‹¤.<br/><br/>
- λ°μ΄ν„°κ°€ λ³€κ²½λμ§€ μ•μ•„λ„ κ³„μ† λ„¤νΈμ›ν¬λ¥Ό ν†µν•΄μ„ λ°μ΄ν„°λ¥Ό λ‹¤μ΄λ΅λ“ λ°›μ•„μ•Ό ν•λ‹¤.
- μΈν„°λ„· λ„¤νΈμ›ν¬λ” λ§¤μ° λλ¦¬κ³  λΉ„μ‹Έλ‹¤.
- λΈλΌμ°μ € λ΅λ”© μ†λ„κ°€ λλ¦¬λ‹¤.
- λλ¦° μ‚¬μ©μ κ²½ν—
<br/><br/>
### μΊμ‹ μ μ©
#### μ²« λ²μ§Έ μ”μ²­
![image](https://github.com/jang9205/spring_study/assets/123082616/185ab45d-51c4-4996-9236-865ef7e104f5)<br/>
μ›Ή λΈλΌμ°μ €μ—μ„ μ²« λ²μ§Έ GET /star.jpg μ”μ²­μ„ ν•λ©΄, μ„λ²„λ” star.jpg μ΄λ―Έμ§€(1.1M)λ¥Ό λ‹΄μ•„ μ‘λ‹µμ„ λ³΄λ‚΄λ”λ°<br/>
**HTTP ν—¤λ”μ— cache-controlλ΅ μΊμ‹ μ ν¨ μ‹κ°„μ„ μ„¤μ •**ν•λ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/254d9129-cf03-4860-8afe-da3ee4905be7)<br/>
λΈλΌμ°μ € μΊμ‹(λΈλΌμ°μ €μ— μΊμ‹λ¥Ό μ €μ¥ν•λ” μ €μ¥μ†)μ— 60μ΄ μ ν¨ μƒνƒλ΅ μ‘λ‹µ κ²°κ³Όλ¥Ό μ €μ¥ν•λ‹¤.<br/><br/>
#### λ‘ λ²μ§Έ μ”μ²­
![image](https://github.com/jang9205/spring_study/assets/123082616/961863e3-37fe-499d-b188-e100a0cdf8d8)<br/>
μ›Ή λΈλΌμ°μ €μ—μ„ λ‘ λ²μ§Έ GET /star.jpg μ”μ²­μ„ ν•κΈ° μ „μ—, λ¨Όμ € λΈλΌμ°μ € μΊμ‹λ¥Ό ν™•μΈν•κ³  μΊμ‹μ μ ν¨ μ‹κ°„μ„ κ²€μ¦ν•λ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/c3b79150-8fef-4a53-8406-fc2c33c987bb)<br/>
μΊμ‹κ°€ μ ν¨ν•λ‹¤λ©΄ μΊμ‹μ—μ„ μ§μ ‘ μ΅°νν•μ—¬ star.jpg μ΄λ―Έμ§€λ¥Ό ν‘μ‹ν•λ‹¤.<br/><br/>
- μΊμ‹ λ•λ¶„μ— μΊμ‹ κ°€λ¥ μ‹κ°„λ™μ• λ„¤νΈμ›ν¬λ¥Ό μ‚¬μ©ν•μ§€ μ•μ•„λ„ λλ‹¤.
- λΉ„μ‹Ό λ„¤νΈμ›ν¬ μ‚¬μ©λ‰μ„ μ¤„μΌ μ μλ‹¤.
- λΈλΌμ°μ € λ΅λ”© μ†λ„κ°€ λ§¤μ° λΉ λ¥΄λ‹¤.
- λΉ λ¥Έ μ‚¬μ©μ κ²½ν—
<br/><br/>
#### μ„Έ λ²μ§Έ μ”μ²­ - μΊμ‹ μ‹κ°„ μ΄κ³Ό
![image](https://github.com/jang9205/spring_study/assets/123082616/e4a8d843-3523-41ec-83a4-499b325aca8b)<br/>
μ›Ή λΈλΌμ°μ €μ—μ„ μ„Έ λ²μ§Έ GET /star.jpg μ”μ²­μ„ ν•κΈ° μ „μ—, λ¨Όμ € λΈλΌμ°μ € μΊμ‹λ¥Ό ν™•μΈν•κ³  μΊμ‹μ μ ν¨ μ‹κ°„μ„ κ²€μ¦ν•λ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/5524175b-a308-453c-8722-e88198c6bb37)<br/>
μΊμ‹ μ ν¨ μ‹κ°„μ΄ μ§€λ‚¬λ‹¤λ©΄ GET /star.jpg μ”μ²­μ„ μ„λ²„μ— λ³΄λ‚Έλ‹¤.<br/>
μ„λ²„λ” μ²« λ²μ§Έ μ”μ²­μ΄ λ“¤μ–΄μ™”μ„ λ•μ™€ λ™μΌν•κ² star.jpg μ΄λ―Έμ§€(1.1M)λ¥Ό λ‹΄μ•„ μ‘λ‹µμ„ λ³΄λ‚Έλ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/354b6536-a4bc-4027-84d9-e5322d2be08e)<br/>
λΈλΌμ°μ € μΊμ‹μ— 60μ΄ μ ν¨ μƒνƒλ΅ μ‘λ‹µ κ²°κ³Όλ¥Ό λ‹¤μ‹ μ €μ¥ν•λ‹¤.<br/><br/>
- μΊμ‹ μ ν¨ μ‹κ°„μ΄ μ΄κ³Όν•λ©΄, μ„λ²„λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό λ‹¤μ‹ μ΅°νν•κ³ , μΊμ‹λ¥Ό κ°±μ‹ ν•λ‹¤.
- μ΄λ• λ‹¤μ‹ λ„¤νΈμ›ν¬ λ‹¤μ΄λ΅λ“κ°€ λ°μƒν•λ‹¤.
<br/><br/>
# π” κ²€μ¦ ν—¤λ”μ™€ μ΅°κ±΄λ¶€ μ”μ²­1
### μΊμ‹ μ‹κ°„ μ΄κ³Ό
μΊμ‹ μ ν¨ μ‹κ°„μ΄ μ΄κ³Όν•΄μ„ μ„λ²„μ— λ‹¤μ‹ μ”μ²­ν•λ©΄ λ‹¤μ λ‘ κ°€μ§€ μƒν™©μ΄ λ‚νƒ€λ‚λ‹¤.
- μ„λ²„μ—μ„ κΈ°μ΅΄ λ°μ΄ν„°λ¥Ό λ³€κ²½ν•¨
- μ„λ²„μ—μ„ κΈ°μ΅΄ λ°μ΄ν„°λ¥Ό λ³€κ²½ν•μ§€ μ•μ
  - λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ” λ€μ‹ μ— μ €μ¥ν•΄ λ‘μ—λ μΊμ‹λ¥Ό μ¬μ‚¬μ© ν•  μ μλ‹¤.
  - λ‹¨ ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°μ™€ μ„λ²„μ λ°μ΄ν„°κ°€ κ°™λ‹¤λ” μ‚¬μ‹¤μ„ ν™•μΈν•  μ μλ” λ°©λ²• ν•„μ”
<br/><br/>
### κ²€μ¦ ν—¤λ” μ¶”κ°€
#### μ²« λ²μ§Έ μ”μ²­
![image](https://github.com/jang9205/spring_study/assets/123082616/1c4b6403-9996-450b-a407-0bd5cb582386)<br/>
HTTP ν—¤λ”μ— **Last-Modified**(λ°μ΄ν„°κ°€ λ§μ§€λ§‰μ— μμ •λ μ‹κ°„)λ¥Ό μ¶”κ°€ν•΄μ„ ν΄λΌμ΄μ–ΈνΈλ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/492aff48-2292-410c-bffa-6b3c0a17d282)<br/>
ν΄λΌμ΄μ–ΈνΈλ” λ°μ΄ν„° μµμΆ… μμ •μΌλ„ μΊμ‹μ— μ €μ¥ν•λ‹¤.<br/><br/>
#### λ‘ λ²μ§Έ μ”μ²­ - μΊμ‹ μ‹κ°„ μ΄κ³Ό
![image](https://github.com/jang9205/spring_study/assets/123082616/99be760a-7f01-464f-bf2b-56f816aca488)<br/>
ν΄λΌμ΄μ–ΈνΈκ°€ μΊμ‹ λ§λ£ ν›„(60μ΄ ν›„) μ”μ²­μ„ λ³΄λ‚Έλ‹¤.<br/>
ν΄λΌμ΄μ–ΈνΈλ” HTTP ν—¤λ”μ— **if-modified-since: λ°μ΄ν„° μµμΆ… μμ •μΌ**μ„ μ¶”κ°€ν•΄μ„ μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚Έλ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/026d64ed-fb83-47e0-ae51-f1d255b0dfa8)<br/>
μ„λ²„λ” if-modified-since κ°’κ³Ό λ°μ΄ν„° μµμΆ… μμ •μΌμ„ λΉ„κµν•΄μ„ λ°μ΄ν„°κ°€ λ°”λ€μ—λ”μ§€ κ²€μ¦ν•λ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/c474ba7d-8220-4f0d-b48b-690ed3283864)<br/>
μ„λ²„λ” λ°μ΄ν„°κ°€ λ³€κ²½λμ§€ μ•μ•λ‹¤λ” μλ―Έλ΅ HTTP Body μ—†μ΄, **304 Not Modified**λ¥Ό μ „μ†΅ν•λ‹¤.<br/>
HTTP Header λ¶€λ¶„λ§ μ „μ†΅ν•κΈ° λ•λ¬Έμ— λ¶€ν•κ°€ λ§μ΄ μ¤„μ–΄λ“ λ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/f07dfd76-0654-4a43-b3f6-207ec287ff79)<br/>
ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„λ΅λ¶€ν„° 304 Not Modifiedλ¥Ό μ‘λ‹µλ°›μ•μΌλ―€λ΅ μΊμ‹ λ°μ΄ν„°(μ‘λ‹µ κ²°κ³Ό)λ¥Ό μ¬μ‚¬μ©ν•κ³  ν—¤λ” λ°μ΄ν„°λ¥Ό κ°±μ‹ ν•λ‹¤.<br/>
κ·Έλ¦¬κ³  μΊμ‹μ—μ„ λ°μ΄ν„°λ¥Ό μ΅°νν•΄μ„ μ‚¬μ©ν•λ‹¤.<br/><br/>
### κ²€μ¦ ν—¤λ”μ™€ μ΅°κ±΄λ¶€ μ”μ²­ μ •λ¦¬
- μΊμ‹ μ ν¨ μ‹κ°„μ΄ μ΄κ³Όν•΄λ„ μ„λ²„μ λ°μ΄ν„°κ°€ κ°±μ‹ λμ§€ μ•μΌλ©΄, μ„λ²„λ” 304 Not Modified + ν—¤λ” λ©”νƒ€ μ •λ³΄λ§ μ‘λ‹µ(λ°”λ””X)
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„κ°€ λ³΄λ‚Έ μ‘λ‹µ ν—¤λ” μ •λ³΄λ΅ μΊμ‹μ λ©”νƒ€ μ •λ³΄λ¥Ό κ°±μ‹ 
- ν΄λΌμ΄μ–ΈνΈλ” μΊμ‹μ— μ €μ¥λμ–΄ μλ” λ°μ΄ν„° μ¬ν™μ©
- κ²°κ³Όμ μΌλ΅ λ„¤νΈμ›ν¬ λ‹¤μ΄λ΅λ“κ°€ λ°μƒν•μ§€λ§ μ©λ‰μ΄ μ μ€ ν—¤λ” μ •λ³΄λ§ λ‹¤μ΄λ΅λ“ν•κΈ° λ•λ¬Έμ— λ§¤μ° μ‹¤μ©μ μΈ ν•΄κ²°μ±…
<br/><br/>
# π” κ²€μ¦ ν—¤λ”μ™€ μ΅°κ±΄λ¶€ μ”μ²­2
### κ²€μ¦ ν—¤λ”
- μΊμ‹ λ°μ΄ν„°μ™€ μ„λ²„ λ°μ΄ν„°κ°€ κ°™μ€μ§€ κ²€μ¦ν•λ” λ°μ΄ν„°
- Last-Modified , ETag
<br/><br/>
### μ΅°κ±΄λ¶€ μ”μ²­ ν—¤λ”
- κ²€μ¦ ν—¤λ”λ΅ μ΅°κ±΄μ— λ”°λ¥Έ λ¶„κΈ°
- If-Modified-Since: Last-Modified μ‚¬μ©
- If-None-Match: ETag μ‚¬μ©
- μ΅°κ±΄μ΄ λ§μ΅±ν•λ©΄ 200 OK
- μ΅°κ±΄μ΄ λ§μ΅±ν•μ§€ μ•μΌλ©΄ 304 Not Modified
<br/><br/>
### μ—μ‹
If-Modified-Since: μ΄ν›„μ— λ°μ΄ν„°κ°€ μμ •λμ—μΌλ©΄?<br/>
- **λ°μ΄ν„° λ―Έλ³€κ²½ μμ‹**
  - μΊμ‹: 2020λ…„ 11μ›” 10μΌ 10:00:00 vs μ„λ²„: 2020λ…„ 11μ›” 10μΌ 10:00:00
  - **304 Not Modified**, ν—¤λ” λ°μ΄ν„°λ§ μ „μ†΅(BODY λ―Έν¬ν•¨)
  - μ „μ†΅ μ©λ‰ 0.1M(ν—¤λ” 0.1M)
- **λ°μ΄ν„° λ³€κ²½ μμ‹**
  - μΊμ‹: 2020λ…„ 11μ›” 10μΌ 10:00:00 vs μ„λ²„: 2020λ…„ 11μ›” 10μΌ 1**1**:00:00
  - **200 OK**, λ¨λ“  λ°μ΄ν„° μ „μ†΅(BODY ν¬ν•¨)
  - μ „μ†΅ μ©λ‰ 1.1M (ν—¤λ” 0.1M, λ°”λ”” 1.0M)
<br/><br/>
### Last-Modified, If-Modified-Since λ‹¨μ 
- 1μ΄ λ―Έλ§(0.xμ΄) λ‹¨μ„λ΅ μΊμ‹ μ΅°μ •μ΄ λ¶κ°€λ¥
- λ‚ μ§ κΈ°λ°μ λ΅μ§ μ‚¬μ©
- λ°μ΄ν„°λ¥Ό μμ •ν•΄μ„ λ‚ μ§κ°€ λ‹¤λ¥΄μ§€λ§, κ°™μ€ λ°μ΄ν„°λ¥Ό μμ •ν•΄μ„ λ°μ΄ν„° κ²°κ³Όκ°€ λ‘κ°™μ€ κ²½μ°
- μ„λ²„μ—μ„ λ³„λ„μ μΊμ‹ λ΅μ§μ„ κ΄€λ¦¬ν•κ³  μ‹¶μ€ κ²½μ°
  - μ) μ¤νμ΄μ¤λ‚ μ£Όμ„μ²λΌ ν¬κ² μν–¥μ΄ μ—†λ” λ³€κ²½μ—μ„ μΊμ‹λ¥Ό μ μ§€ν•κ³  μ‹¶μ€ κ²½μ°
<br/><br/>
### ETag(Entity Tag), If-None-Match
- μΊμ‹μ© λ°μ΄ν„°μ— μ„μμ κ³ μ ν• λ²„μ „ μ΄λ¦„μ„ λ‹¬μ•„λ‘ 
  - μ) ETag: "v1.0", ETag: "a2jiodwjekjl3"
- λ°μ΄ν„°κ°€ λ³€κ²½λλ©΄ μ΄ μ΄λ¦„μ„ λ°”κΎΈμ–΄μ„ λ³€κ²½ν•¨(Hashλ¥Ό λ‹¤μ‹ μƒμ„±)
  - μ) ETag: "aaaaa" -> ETag: "bbbbb"
- μ§„μ§ λ‹¨μν•κ² ETagλ§ λ³΄λ‚΄μ„ κ°™μΌλ©΄ μ μ§€, λ‹¤λ¥΄λ©΄ λ‹¤μ‹ λ°›λ”λ‹¤κ³  μƒκ°ν•κΈ°
<br/><br/>
### κ²€μ¦ ν—¤λ” μ¶”κ°€
#### μ²« λ²μ§Έ μ”μ²­
![image](https://github.com/jang9205/spring_study/assets/123082616/951a0660-8a81-430b-bf53-0ebd2bf94813)<br/>
HTTP ν—¤λ”μ— **ETag**λ¥Ό μ¶”κ°€ν•΄μ„ ν΄λΌμ΄μ–ΈνΈλ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/520c744c-0fe7-48c1-91d1-8b599c84c330)<br/>
ν΄λΌμ΄μ–ΈνΈλ” ETagλ„ μΊμ‹μ— μ €μ¥ν•λ‹¤.<br/><br/>
#### λ‘ λ²μ§Έ μ”μ²­ - μΊμ‹ μ‹κ°„ μ΄κ³Ό
![image](https://github.com/jang9205/spring_study/assets/123082616/70b90503-474c-41a0-bf8f-170cecea1bdb)<br/>
ν΄λΌμ΄μ–ΈνΈκ°€ μΊμ‹ λ§λ£ ν›„(60μ΄ ν›„) μ”μ²­μ„ λ³΄λ‚Έλ‹¤.<br/>
ν΄λΌμ΄μ–ΈνΈλ” HTTP ν—¤λ”μ— **If-None-Match: μΊμ‹κ°€ κ°€μ§€κ³  μλ” ETag**λ¥Ό μ¶”κ°€ν•΄μ„ μ„λ²„μ— μ”μ²­μ„ λ³΄λ‚Έλ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/e38d2ce2-f5e4-436b-a086-a051a824b1d8)<br/>
μ„λ²„λ” If-None-Match κ°’κ³Ό ETagλ¥Ό λΉ„κµν•΄μ„ λ°μ΄ν„°κ°€ λ°”λ€μ—λ”μ§€ κ²€μ¦ν•λ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/af9a7e8b-8345-4326-a164-8134890f180f)<br/>
μ„λ²„λ” λ°μ΄ν„°κ°€ λ³€κ²½λμ§€ μ•μ•λ‹¤λ” μλ―Έλ΅ HTTP Body μ—†μ΄, **304 Not Modified**λ¥Ό μ „μ†΅ν•λ‹¤.<br/>
HTTP Header λ¶€λ¶„λ§ μ „μ†΅ν•κΈ° λ•λ¬Έμ— λ¶€ν•κ°€ λ§μ΄ μ¤„μ–΄λ“ λ‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/8b3ac26d-635f-4c92-8246-0e811a756257)<br/>
ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„λ΅λ¶€ν„° 304 Not Modifiedλ¥Ό μ‘λ‹µλ°›μ•μΌλ―€λ΅ μΊμ‹ λ°μ΄ν„°(μ‘λ‹µ κ²°κ³Ό)λ¥Ό μ¬μ‚¬μ©ν•κ³  ν—¤λ” λ°μ΄ν„°λ¥Ό κ°±μ‹ ν•λ‹¤.<br/>
κ·Έλ¦¬κ³  μΊμ‹μ—μ„ λ°μ΄ν„°λ¥Ό μ΅°νν•΄μ„ μ‚¬μ©ν•λ‹¤.<br/><br/>
### ETag, If-None-Match μ •λ¦¬
- **μΊμ‹ μ μ–΄ λ΅μ§μ„ μ„λ²„μ—μ„ μ™„μ „ν κ΄€λ¦¬**
- ν΄λΌμ΄μ–ΈνΈλ” λ‹¨μν μ΄ κ°’μ„ μ„λ²„μ— μ κ³µ(ν΄λΌμ΄μ–ΈνΈλ” μΊμ‹ λ©”μ»¤λ‹μ¦μ„ λ¨λ¦„)
- μ)
  - μ„λ²„λ” λ°°νƒ€ μ¤ν” κΈ°κ°„μΈ 3μΌ λ™μ• νμΌμ΄ λ³€κ²½λμ–΄λ„ ETagλ¥Ό λ™μΌν•κ² μ μ§€
  - μ• ν”λ¦¬μΌ€μ΄μ… λ°°ν¬ μ£ΌκΈ°μ— λ§μ¶”μ–΄ ETag λ¨λ‘ κ°±μ‹ 
<br/><br/>
# π” μΊμ‹μ™€ μ΅°κ±΄λ¶€ μ”μ²­ ν—¤λ”
### μΊμ‹ μ μ–΄ ν—¤λ”
- Cache-Control: μΊμ‹ μ μ–΄
- Pragma: μΊμ‹ μ μ–΄(ν•μ„ νΈν™)
- Expires: μΊμ‹ μ ν¨ κΈ°κ°„(ν•μ„ νΈν™)
<br/><br/>
### Cache-Control
μΊμ‹ μ§€μ‹μ–΄(directives)<br/>
- Cache-Control: max-age
  - μΊμ‹ μ ν¨ μ‹κ°„, μ΄ λ‹¨μ„
- Cache-Control: no-cache
  - λ°μ΄ν„°λ” μΊμ‹ν•΄λ„ λμ§€λ§, **ν•­μƒ μ›(origin) μ„λ²„μ— κ²€μ¦ν•κ³  μ‚¬μ©**
- Cache-Control: no-store
  - λ°μ΄ν„°μ— λ―Όκ°ν• μ •λ³΄κ°€ μμΌλ―€λ΅ μ €μ¥ν•λ©΄ μ•λ¨(λ©”λ¨λ¦¬μ—μ„ μ‚¬μ©ν•κ³  μµλ€ν• λΉ¨λ¦¬ μ‚­μ )
<br/><br/>
### Pragma
μΊμ‹ μ μ–΄(ν•μ„ νΈν™)<br/>
- Pragma: no-cache
- HTTP 1.0 ν•μ„ νΈν™
<br/><br/>
### Expires
μΊμ‹ λ§λ£μΌ μ§€μ •(ν•μ„ νΈν™)<br/>
- μΊμ‹ λ§λ£μΌμ„ μ •ν™•ν• λ‚ μ§λ΅ μ§€μ •
  - expires: Mon, 01 Jan 1990 00:00:00 GMT
- HTTP 1.0λ¶€ν„° μ‚¬μ©
- μ§€κΈμ€ λ” μ μ—°ν• Cache-Control: max-age κ¶μ¥
- Cache-Control: max-ageμ™€ ν•¨κ» μ‚¬μ©ν•λ©΄ Expiresλ” λ¬΄μ‹
<br/><br/>
### κ²€μ¦ ν—¤λ”μ™€ μ΅°κ±΄λ¶€ μ”μ²­ ν—¤λ”
- **κ²€μ¦ ν—¤λ”(Validator)** 
  - ETag: "v1.0", ETag: "asid93jkrh2l"
  - Last-Modified: Thu, 04 Jun 2020 07:19:24 GMT
- **μ΅°κ±΄λ¶€ μ”μ²­ ν—¤λ”**
  - If-Match, If-None-Match: ETag κ°’ μ‚¬μ©
  - If-Modified-Since, If-Unmodified-Since: Last-Modified κ°’ μ‚¬μ©
<br/><br/>
# π” ν”„λ΅μ‹ μΊμ‹
### μ›(origin) μ„λ²„ μ§μ ‘ μ ‘κ·Ό
![image](https://github.com/jang9205/spring_study/assets/123082616/c02e0bf7-57a4-445f-a98b-7f03f8fdcff6)<br/>
ν΄λΌμ΄μ–ΈνΈκ°€ λ―Έκµ­μ— μλ” μ› μ„λ²„μ— μ§μ ‘ μ ‘κ·Όν•λ©΄ λ§¤μ° λλ¦¬κ² μ‘λ‹µμ„ λ°›λ”λ‹¤.<br/><br/>
### ν”„λ΅μ‹ μΊμ‹ λ„μ…
![image](https://github.com/jang9205/spring_study/assets/123082616/d6b983c8-faa4-4adf-9a79-41bf3a0606b7)<br/>
ν΄λΌμ΄μ–ΈνΈκ°€ ν•κµ­μ— μλ” ν”„λ΅μ‹ μΊμ‹ μ„λ²„μ— μ ‘κ·Όν•λ©΄ λΉ λ¥΄κ² μ‘λ‹µμ„ λ°›λ”λ‹¤.<br/>
public μΊμ‹λ” ν”„λ΅μ‹ μΊμ‹ μ„λ²„μ— μλ” μ¤‘κ°„μ—μ„ κ³µμ©μΌλ΅ μ‚¬μ©λλ” μΊμ‹μ΄κ³ , private μΊμ‹λ” μ›Ή λΈλΌμ°μ €λ‚ λ΅μ»¬μ— μ €μ¥λλ” μΊμ‹μ΄λ‹¤.<br/><br/>
### Cache-Control - κΈ°νƒ€
- **Cache-Control: public** 
  - μ‘λ‹µμ΄ public μΊμ‹μ— μ €μ¥λμ–΄λ„ λ¨
- **Cache-Control: private** 
  - μ‘λ‹µμ΄ ν•΄λ‹Ή μ‚¬μ©μλ§μ„ μ„ν• κ²ƒμ„, private μΊμ‹μ— μ €μ¥ν•΄μ•Ό ν•¨(κΈ°λ³Έκ°’)
- **Cache-Control: s-maxage**
  - ν”„λ΅μ‹ μΊμ‹μ—λ§ μ μ©λλ” max-age
- **Age: 60** (HTTP ν—¤λ”)
  - μ¤λ¦¬μ§„ μ„λ²„μ—μ„ μ‘λ‹µ ν›„ ν”„λ΅μ‹ μΊμ‹ λ‚΄μ— λ¨Έλ¬Έ μ‹κ°„(μ΄)
<br/><br/>
# π” μΊμ‹ λ¬΄ν¨ν™”
### ν™•μ‹¤ν• μΊμ‹ λ¬΄ν¨ν™” μ‘λ‹µ
- Cache-Control: no-cache, no-store, must-revalidate 
- Pragma: no-cache 
  - κ³Όκ±° λΈλΌμ°μ €μ—μ„ μ”μ²­μ΄ μ¬ μλ„ μμ, HTTP 1.0 ν•μ„ νΈν™
<br/><br/>
### μΊμ‹ μ§€μ‹μ–΄(directives) - ν™•μ‹¤ν• μΊμ‹ λ¬΄ν¨ν™”
#### Cache-Control: no-cache
![image](https://github.com/jang9205/spring_study/assets/123082616/074aa168-d26b-4123-bc6d-d5ea540ca06a)<br/>
λ°μ΄ν„°λ” μΊμ‹ν•΄λ„ λμ§€λ§, ν•­μƒ μ› μ„λ²„μ— κ²€μ¦ν•κ³  μ‚¬μ©(μ΄λ¦„μ— μ£Όμ)<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/46ab1571-cfe9-4928-8e8c-1abc2bc76a62)<br/>
μ› μ„λ²„μ— μ ‘κ·Όν•  μ μ—†λ” κ²½μ° ν”„λ΅μ‹ μΊμ‹μ— μ €μ¥λ λ°μ΄ν„°λ¥Ό λ³΄μ—¬μ¤€λ‹¤.<br/><br/>
#### Cache-Control: no-store 
- λ°μ΄ν„°μ— λ―Όκ°ν• μ •λ³΄κ°€ μμΌλ―€λ΅ μ €μ¥ν•λ©΄ μ•λ¨(λ©”λ¨λ¦¬μ—μ„ μ‚¬μ©ν•κ³  μµλ€ν• λΉ¨λ¦¬ μ‚­μ )
<br/><br/>
#### Cache-Control: must-revalidate
  - μΊμ‹ λ§λ£ν›„ μµμ΄ μ΅°νμ‹ μ› μ„λ²„μ— κ²€μ¦ν•΄μ•Όν•¨
<br/>![image](https://github.com/jang9205/spring_study/assets/123082616/ecae82ae-7048-4110-9a89-ce274564340d)<br/>
  - μ› μ„λ²„ μ ‘κ·Ό μ‹¤ν¨μ‹ λ°λ“μ‹ μ¤λ¥κ°€ λ°μƒν•΄μ•Όν•¨ - 504(Gateway Timeout)
  - must-revalidateλ” μΊμ‹ μ ν¨ μ‹κ°„μ΄λΌλ©΄ μΊμ‹λ¥Ό μ‚¬μ©ν•¨
<br/><br/>
#### Pragma: no-cache
- HTTP 1.0 ν•μ„ νΈν™