# π“– HTTP λ©”μ„λ“ ν™μ©
<br/><br/>
# π” ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ λ°μ΄ν„° μ „μ†΅
### λ°μ΄ν„° μ „λ‹¬ λ°©μ‹
λ°μ΄ν„° μ „λ‹¬ λ°©μ‹μ€ ν¬κ² 2κ°€μ§€ κ²½μ°λ΅ λ‚λ‰λ‹¤.
- **μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅**
  - GET
  - μ£Όλ΅ μ •λ ¬ ν•„ν„°(κ²€μƒ‰μ–΄)
- **λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅**
  - POST, PUT, PATCH
  - νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ¦¬μ†μ¤ λ“±λ΅, λ¦¬μ†μ¤ λ³€κ²½
<br/><br/>
### 4κ°€μ§€ μƒν™©
- μ •μ  λ°μ΄ν„° μ΅°ν
  - μ΄λ―Έμ§€, μ •μ  ν…μ¤νΈ λ¬Έμ„
- λ™μ  λ°μ΄ν„° μ΅°ν
  - μ£Όλ΅ κ²€μƒ‰, κ²μ‹ν λ©λ΅μ—μ„ μ •λ ¬ ν•„ν„°(κ²€μƒ‰μ–΄)
- HTML Formμ„ ν†µν• λ°μ΄ν„° μ „μ†΅
  - νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½
- HTTP APIλ¥Ό ν†µν• λ°μ΄ν„° μ „μ†΅
  - νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½
  - μ„λ²„ to μ„λ²„, μ•± ν΄λΌμ΄μ–ΈνΈ, μ›Ή ν΄λΌμ΄μ–ΈνΈ(Ajax)
<br/><br/>
### μ •μ  λ°μ΄ν„° μ΅°ν
![image](https://github.com/jang9205/spring_study/assets/123082616/aeb4967e-6e88-4602-9f8d-b908bb6434d4)<br/>
- μ΄λ―Έμ§€, μ •μ  ν…μ¤νΈ λ¬Έμ„
- μ΅°νλ” GET μ‚¬μ©
- μ •μ  λ°μ΄ν„°λ” μΌλ°μ μΌλ΅ μΏΌλ¦¬ νλΌλ―Έν„° μ—†μ΄ λ¦¬μ†μ¤ κ²½λ΅λ΅ λ‹¨μν•κ² μ΅°ν κ°€λ¥
<br/><br/>
### λ™μ  λ°μ΄ν„° μ΅°ν
![image](https://github.com/jang9205/spring_study/assets/123082616/ae526b55-1d48-44d5-9180-ecbb3a5c5d78)<br/>
- μ£Όλ΅ κ²€μƒ‰, κ²μ‹ν λ©λ΅μ—μ„ μ •λ ¬ ν•„ν„°(κ²€μƒ‰μ–΄)
- μ΅°ν μ΅°κ±΄μ„ μ¤„μ—¬μ£Όλ” ν•„ν„°, μ΅°ν κ²°κ³Όλ¥Ό μ •λ ¬ν•λ” μ •λ ¬ μ΅°κ±΄μ— μ£Όλ΅ μ‚¬μ©
- μ΅°νλ” GET μ‚¬μ©
- GETμ€ μΏΌλ¦¬ νλΌλ―Έν„° μ‚¬μ©ν•΄μ„ λ°μ΄ν„°λ¥Ό μ „λ‹¬
<br/><br/>
### HTML Form λ°μ΄ν„° μ „μ†΅
![image](https://github.com/jang9205/spring_study/assets/123082616/43c19bbb-43e7-44fe-a832-da31ae0ce39e)<br/>
post methodλ΅ λ form νƒκ·Έμ submit λ²„νΌμ„ λ„λ¥΄λ©΄, μ›Ή λΈλΌμ°μ €κ°€ HTML formμ λ°μ΄ν„°λ¥Ό μ½μ–΄μ„ HTTP μ”μ²­ λ©”μ‹μ§€λ¥Ό μƒμ„±ν•΄μ¤€λ‹¤.<br/>
message-bodyμ— key-value ν•νƒλ΅ formμ λ°μ΄ν„°λ¥Ό λ„£μ<br/>
**μ„λ²„κ°€ POST λ©”μ‹μ§€λ¥Ό λ°›μΌλ©΄ λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ‹¤.** <br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/9a3c7f6b-c457-4f5d-81d9-cac351b79d40)<br/>
get methodλ΅ λ form νƒκ·Έμ submit λ²„νΌμ„ λ„λ¥΄λ©΄, μ›Ή λΈλΌμ°μ €κ°€ HTML formμ λ°μ΄ν„°λ¥Ό μ½μ–΄μ„ HTTP μ”μ²­ λ©”μ‹μ§€λ¥Ό μƒμ„±ν•΄μ¤€λ‹¤.<br/>
μΏΌλ¦¬ νλΌλ―Έν„°μ— key-value ν•νƒλ΅ formμ λ°μ΄ν„°λ¥Ό λ„£μ<br/>
**ν•μ§€λ§ GETμ€ μ΅°νμ—μ„λ§ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤. λ¦¬μ†μ¤ λ³€κ²½μ΄ λ°μƒν•λ” κ³³μ—μ„ μ‚¬μ©ν•λ©΄ μ•λλ‹¤!** <br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/8cf21498-2eb1-48c9-9435-7496f9dd33a3)<br/>
get methodλ΅ λ form νƒκ·Έμ submit λ²„νΌμ„ λ„λ¥΄λ©΄, μ›Ή λΈλΌμ°μ €κ°€ HTML formμ λ°μ΄ν„°λ¥Ό μ½μ–΄μ„ HTTP μ”μ²­ λ©”μ‹μ§€λ¥Ό μƒμ„±ν•΄μ¤€λ‹¤.<br/>
μΏΌλ¦¬ νλΌλ―Έν„°μ— key-value ν•νƒλ΅ formμ λ°μ΄ν„°λ¥Ό λ„£μ<br/>
**μ„λ²„κ°€ GET λ©”μ‹μ§€λ¥Ό λ°›μΌλ©΄ λ°μ΄ν„°λ¥Ό ν•„ν„°λ§(μ΅°ν)ν• κ²°κ³Όλ¥Ό μ‘λ‹µν•λ‹¤.** <br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/201bb819-89fe-454c-b7de-d96bd45042b8)<br/>
multipart/form-dataλ” νμΌ(binary data)μ„ μ „μ†΅ν•  λ• μ“°λ” μΈμ½”λ”© νƒ€μ…μ΄λ‹¤.<br/>
HTML form νƒκ·Έμ enctype="multipart/form-data"λ΅ μ„¤μ •ν•κ³  submit λ²„νΌμ„ λ„λ¥΄λ©΄ μ›Ή λΈλΌμ°μ €κ°€ username, age, file1 λ°μ΄ν„°λ¥Ό λ¶„λ¦¬ν•μ—¬ message-bodyμ— λ‹΄μ•„ HTTP μ”μ²­ λ©”μ‹μ§€λ¥Ό μƒμ„±ν•΄μ¤€λ‹¤.<br/><br/>
### HTML Form λ°μ΄ν„° μ „μ†΅ μ •λ¦¬
- HTML Form submitμ‹ POST μ „μ†΅
  - μ) νμ› κ°€μ…, μƒν’ μ£Όλ¬Έ, λ°μ΄ν„° λ³€κ²½
- Content-Type: application/x-www-form-urlencoded μ‚¬μ©
  - formμ λ‚΄μ©μ„ λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν•΄μ„ μ „μ†΅(key=value, μΏΌλ¦¬ νλΌλ―Έν„° ν•μ‹)
  - μ „μ†΅ λ°μ΄ν„°λ¥Ό url encoding μ²λ¦¬
    - μ) abcκΉ€ -> abc%EA%B9%80
- HTML Formμ€ GET μ „μ†΅λ„ κ°€λ¥
- Content-Type: multipart/form-data
  - νμΌ μ—…λ΅λ“ κ°™μ€ λ°”μ΄λ„λ¦¬ λ°μ΄ν„° μ „μ†΅μ‹ μ‚¬μ©
  - λ‹¤λ¥Έ μΆ…λ¥μ μ—¬λ¬ νμΌκ³Ό νΌμ λ‚΄μ© ν•¨κ» μ „μ†΅ κ°€λ¥(κ·Έλμ„ μ΄λ¦„μ΄ multipart)
- μ°Έκ³ : HTML Form μ „μ†΅μ€ GET, POSTλ§ μ§€μ›
<br/><br/>
### HTTP API λ°μ΄ν„° μ „μ†΅
![image](https://github.com/jang9205/spring_study/assets/123082616/18d5a867-8a0e-4b43-9501-3f3c9312b22c)<br/><br/>
### HTTP API λ°μ΄ν„° μ „μ†΅ μ •λ¦¬
- μ„λ²„ to μ„λ²„
  - λ°±μ—”λ“ μ‹μ¤ν… ν†µμ‹ 
- μ•± ν΄λΌμ΄μ–ΈνΈ
  - μ•„μ΄ν°, μ•λ“λ΅μ΄λ“
- μ›Ή ν΄λΌμ΄μ–ΈνΈ
  - HTMLμ—μ„ Form μ „μ†΅ λ€μ‹  μλ°” μ¤ν¬λ¦½νΈλ¥Ό ν†µν• ν†µμ‹ μ— μ‚¬μ©(AJAX)
  - μ) React, VueJs κ°™μ€ μ›Ή ν΄λΌμ΄μ–ΈνΈμ™€ API ν†µμ‹ 
- POST, PUT, PATCH: λ©”μ‹μ§€ λ°”λ””λ¥Ό ν†µν•΄ λ°μ΄ν„° μ „μ†΅
- GET: μ΅°ν, μΏΌλ¦¬ νλΌλ―Έν„°λ΅ λ°μ΄ν„° μ „λ‹¬
- Content-Type: application/jsonμ„ μ£Όλ΅ μ‚¬μ©(μ‚¬μ‹¤μƒ ν‘μ¤€)
  - TEXT, XML, JSON λ“±
<br/><br/>
# π” HTTP API μ„¤κ³„ μμ‹
- **HTTP API - μ»¬λ ‰μ…**
  - **POST κΈ°λ° λ“±λ΅**
  - μ) νμ› κ΄€λ¦¬ API μ κ³µ
- **HTTP API - μ¤ν† μ–΄**
  - **PUT κΈ°λ° λ“±λ΅**
  - μ) μ •μ  μ»¨ν…μΈ  κ΄€λ¦¬, μ›κ²© νμΌ κ΄€λ¦¬
- **HTML FORM μ‚¬μ©**
  - μ›Ή νμ΄μ§€ νμ› κ΄€λ¦¬
  - GET, POSTλ§ μ§€μ›
<br/><br/>
### νμ› κ΄€λ¦¬ μ‹μ¤ν…
#### API μ„¤κ³„ - POST κΈ°λ° λ“±λ΅
μ»¬λ ‰μ…: /members<br/><br/>
- **νμ›** λ©λ΅ /members -> GET
- **νμ›** λ“±λ΅ /members -> POST
- **νμ›** μ΅°ν /members/{id} -> GET
- **νμ›** μμ • /members/{id} -> PATCH, PUT, POST
- **νμ›** μ‚­μ  /members/{id} -> DELETE
<br/><br/>
#### POST - μ‹ κ· μμ› λ“±λ΅ νΉμ§•
- ν΄λΌμ΄μ–ΈνΈλ” λ“±λ΅λ  λ¦¬μ†μ¤μ URIλ¥Ό λ¨λ¥Έλ‹¤.
  - νμ› λ“±λ΅ /members -> POST
  - POST /members
- μ„λ²„κ°€ μƒλ΅ λ“±λ΅λ λ¦¬μ†μ¤ URIλ¥Ό μƒμ„±ν•΄μ¤€λ‹¤.
  - HTTP/1.1 201 Created
<br/>Location: **/members/100**
- μ»¬λ ‰μ…(Collection)
  - μ„λ²„κ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ λ””λ ‰ν† λ¦¬
  - μ„λ²„κ°€ λ¦¬μ†μ¤μ URIλ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬
  - μ—¬κΈ°μ„ μ»¬λ ‰μ…μ€ /members
<br/><br/>
### νμΌ κ΄€λ¦¬ μ‹μ¤ν…
#### API μ„¤κ³„ - PUT κΈ°λ° λ“±λ΅
μ¤ν† μ–΄: /files<br/><br/>
- **νμΌ** λ©λ΅ /files -> GET
- **νμΌ** μ΅°ν /files/{filename} -> GET
- **νμΌ** λ“±λ΅ /files/{filename} -> PUT
- **νμΌ** μ‚­μ  /files/{filename} -> DELETE 
- **νμΌ** λ€λ‰ λ“±λ΅ /files -> POST
<br/><br/>
#### PUT - μ‹ κ· μμ› λ“±λ΅ νΉμ§•
- ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤ URIλ¥Ό μ•κ³  μμ–΄μ•Ό ν•λ‹¤.
  - νμΌ λ“±λ΅ /files/{filename} -> PUT
  - PUT **/files/star.jpg**
- ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ λ¦¬μ†μ¤μ URIλ¥Ό μ§€μ •ν•λ‹¤.
- μ¤ν† μ–΄(Store)
  - ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ μ €μ¥μ†
  - ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤μ URIλ¥Ό μ•κ³  κ΄€λ¦¬
  - μ—¬κΈ°μ„ μ¤ν† μ–΄λ” /files
<br/><br/>
### HTML FORM μ‚¬μ©
- HTML FORMμ€ **GET, POSTλ§ μ§€μ›**
- AJAX κ°™μ€ κΈ°μ μ„ μ‚¬μ©ν•΄μ„ ν•΄κ²° κ°€λ¥ -> νμ› API μ°Έκ³ 
- μ—¬κΈ°μ„λ” μμ HTML, HTML FORM μ΄μ•ΌκΈ°
- GET, POSTλ§ μ§€μ›ν•λ―€λ΅ μ μ•½μ΄ μμ
<br/><br/>
- **νμ›** λ©λ΅ /members -> GET
- **νμ›** λ“±λ΅ νΌ /members/new -> GET
- **νμ›** λ“±λ΅ /members/new, /members -> POST
- **νμ›** μ΅°ν /members/{id} -> GET
- **νμ›** μμ • νΌ /members/{id}/edit -> GET
- **νμ›** μμ • /members/{id}/edit, /members/{id} -> POST
- **νμ›** μ‚­μ  /members/{id}/delete -> POST
<br/><br/>
- μ»¨νΈλ΅¤ URI 
  - GET, POSTλ§ μ§€μ›ν•λ―€λ΅ μ μ•½μ΄ μμ
  - μ΄λ° μ μ•½μ„ ν•΄κ²°ν•κΈ° μ„ν•΄ λ™μ‚¬λ΅ λ λ¦¬μ†μ¤ κ²½λ΅ μ‚¬μ©
  - POSTμ /new, /edit, /deleteκ°€ μ»¨νΈλ΅¤ URI
  - HTTP λ©”μ„λ“λ΅ ν•΄κ²°ν•κΈ° μ• λ§¤ν• κ²½μ° μ‚¬μ©(HTTP API ν¬ν•¨)
<br/><br/>
### μ •λ¦¬
- HTTP API - μ»¬λ ‰μ…
  - POST κΈ°λ° λ“±λ΅
  - μ„λ²„κ°€ λ¦¬μ†μ¤ URI κ²°μ •
- HTTP API - μ¤ν† μ–΄
  - PUT κΈ°λ° λ“±λ΅
  - ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤ URI κ²°μ •
- HTML FORM μ‚¬μ©
  - μμ HTML + HTML form μ‚¬μ©
  - GET, POSTλ§ μ§€μ›
<br/><br/>
#### μ°Έκ³ ν•λ©΄ μΆ‹μ€ URI μ„¤κ³„ κ°λ…
- **λ¬Έμ„(document)**
  - λ‹¨μΌ κ°λ…(νμΌ ν•λ‚, κ°μ²΄ μΈμ¤ν„΄μ¤, λ°μ΄ν„°λ² μ΄μ¤ row)
  - μ) /members/100, /files/star.jpg
- **μ»¬λ ‰μ…(collection)**
  - μ„λ²„κ°€ κ΄€λ¦¬ν•λ” λ¦¬μ†μ¤ λ””λ ‰ν„°λ¦¬
  - μ„λ²„κ°€ λ¦¬μ†μ¤μ URIλ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬
  - μ) /members
- **μ¤ν† μ–΄(store)** 
  - ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ¦¬ν•λ” μμ› μ €μ¥μ†
  - ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤μ URIλ¥Ό μ•κ³  κ΄€λ¦¬
  - μ) /files
- **μ»¨νΈλ΅¤λ¬(controller), μ»¨νΈλ΅¤ URI**
  - λ¬Έμ„, μ»¬λ ‰μ…, μ¤ν† μ–΄λ΅ ν•΄κ²°ν•κΈ° μ–΄λ ¤μ΄ μ¶”κ°€ ν”„λ΅μ„Έμ¤ μ‹¤ν–‰
  - λ™μ‚¬λ¥Ό μ§μ ‘ μ‚¬μ©
  - μ) /members/{id}/delete
<br/><br/><br/>**μ£Όλ΅ μ»¬λ ‰μ…μ„ λ§μ΄ μ‚¬μ©ν•κ³ , νμΌ/κ²μ‹ν κ°™μ€ κ²½μ°μ— μ¤ν† μ–΄λ¥Ό μ‚¬μ©ν•λ‹¤.** <br/>
**λ¬Έμ„, μ»¬λ ‰μ…, μ¤ν† μ–΄λ΅ ν•΄κ²°ν•κΈ° μ–΄λ ¤μ΄ μ¶”κ°€ ν”„λ΅μ„Έμ¤λ¥Ό μ‹¤ν–‰ν•  λ•, μ»¨νΈλ΅¤ URIλ¥Ό μ‚¬μ©ν•λ‹¤.**