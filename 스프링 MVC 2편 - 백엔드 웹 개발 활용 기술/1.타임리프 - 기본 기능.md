# ğŸ“– íƒ€ì„ë¦¬í”„ - ê¸°ë³¸ ê¸°ëŠ¥
<br/><br/>
# ğŸ” í”„ë¡œì íŠ¸ ìƒì„±
[ìŠ¤í”„ë§ ë¶€íŠ¸ ìŠ¤íƒ€í„°](https://start.spring.io/)ì—ì„œ ìŠ¤í”„ë§ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/432b3618-0578-4d9b-a2cb-c5d05f82a418)<br/><br/>
# ğŸ” íƒ€ì„ë¦¬í”„ ì†Œê°œ
ê³µì‹ ì‚¬ì´íŠ¸: https://www.thymeleaf.org/<br/>
ê³µì‹ ë©”ë‰´ì–¼ - ê¸°ë³¸ ê¸°ëŠ¥: https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html<br/>
ê³µì‹ ë©”ë‰´ì–¼ - ìŠ¤í”„ë§ í†µí•©: https://www.thymeleaf.org/doc/tutorials/3.0/thymeleafspring.html<br/><br/>
### íƒ€ì„ë¦¬í”„ íŠ¹ì§•
#### ì„œë²„ ì‚¬ì´ë“œ HTML ë Œë”ë§(SSR)
íƒ€ì„ë¦¬í”„ëŠ” ë°±ì—”ë“œ ì„œë²„ì—ì„œ HTMLì„ ë™ì ìœ¼ë¡œ ë Œë”ë§ í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤.
#### ë„¤ì¸„ëŸ´ í…œí”Œë¦¿
íƒ€ì„ë¦¬í”„ë¡œ ì‘ì„±í•œ íŒŒì¼ì€ HTMLì„ ìœ ì§€í•˜ê¸° ë•Œë¬¸ì— ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ íŒŒì¼ì„ ì§ì ‘ ì—´ì–´ë„ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆê³ , ì„œë²„ë¥¼ í†µí•´ ë·° í…œí”Œë¦¿ì„ ê±°ì¹˜ë©´ ë™ì ìœ¼ë¡œ ë³€ê²½ëœ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. 
#### ìŠ¤í”„ë§ í†µí•© ì§€ì›
íƒ€ì„ë¦¬í”„ëŠ” ìŠ¤í”„ë§ê³¼ ìì—°ìŠ¤ëŸ½ê²Œ í†µí•©ë˜ê³ , ìŠ¤í”„ë§ì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì§€ì›í•œë‹¤.<br/><br/>
### íƒ€ì„ë¦¬í”„ ì‚¬ìš© ì„ ì–¸
```html
<html xmlns:th="http://www.thymeleaf.org">
```
<br/><br/>
# ğŸ” í…ìŠ¤íŠ¸ - text, utext
### text - th:text, [[...]]
`java/hello/thymeleaf/basic/BasicController`
```java
model.addAttribute("data", "Hello Spring!");
return "basic/text-basic";
```
modelì— "data"ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ "hello Spring!"ë¥¼ ë„£ì–´ì„œ, ë·° í…œí”Œë¦¿ì„ í˜¸ì¶œí•œë‹¤.<br/><br/><br/><br/>
`/resources/templates/basic/text-basic.html`
```html
<li>th:text ì‚¬ìš© <span th:text="${data}"></span></li>
<li>ì»¨í…ì¸  ì•ˆì—ì„œ ì§ì ‘ ì¶œë ¥í•˜ê¸° = [[${data}]]</li>
```
modelì— ë‹´ì€ dataë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•´<br/>
`th:text="${data}"` ë˜ëŠ” `[[${data}]]`ë¥¼ ì‚¬ìš©í•œë‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/5ad999c1-cb16-46aa-bf13-e160582bb2e9)<br/><br/>
### utext - th:utext, [(...)]
modelì˜ ë°ì´í„°ì— html íƒœê·¸ë¥¼ ì¶”ê°€í•´ì„œ ì‹¤í–‰í•˜ë©´
```java
model.addAttribute("data", "Hello <b>Spring!</b>");
```
<br/><br/>![image](https://github.com/jang9205/spring_study/assets/123082616/7be7ffaa-b097-4968-ab85-638ad67cd45a)<br/><br/>
html íƒœê·¸ë¡œ ë Œë”ë§ ë˜ì§€ ì•Šê³ , ë¬¸ìê°€ ê·¸ëŒ€ë¡œ ì¶œë ¥ë˜ëŠ”ë°<br/>
ì´ê±´ **ì´ìŠ¤ì¼€ì´í”„(escape)** ê¸°ëŠ¥ ë•Œë¬¸ì´ë‹¤.<br/><br/>
HTMLì—ì„œ ì‚¬ìš©í•˜ëŠ” íŠ¹ìˆ˜ ë¬¸ìë¥¼ HTML ì—”í‹°í‹°ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì„ ì´ìŠ¤ì¼€ì´í”„ë¼ê³  í•œë‹¤.<br/>
íƒ€ì„ë¦¬í”„ê°€ ì œê³µí•˜ëŠ” `th:text`, `[[...]]`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì´ìŠ¤ì¼€ì´í”„ë¥¼ ì œê³µí•œë‹¤.<br/><br/>
ì´ìŠ¤ì¼€ì´í”„ ê¸°ëŠ¥ì„ ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´<br/>
`th:utext="${data}"` ë˜ëŠ” `[(${data})]`ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
```html
<li>th:utext = <span th:utext="${data}"></span></li>
<li><span th:inline="none">[(...)] = </span>[(${data})]</li>
```
<br/><br/>![image](https://github.com/jang9205/spring_study/assets/123082616/751c9e86-0a7c-4300-b0f0-92c798c7409b)<br/><br/>
ì‹¤ì œ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ë‹¤ ë³´ë©´ escapeë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ì„œ HTMLì´ ì •ìƒ ë Œë”ë§ ë˜ì§€ ì•ŠëŠ” ìˆ˜ ë§ì€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.<br/>
escapeë¥¼ ê¸°ë³¸ìœ¼ë¡œ í•˜ê³ , ê¼­ í•„ìš”í•œ ë•Œë§Œ unescapeë¥¼ ì‚¬ìš©í•˜ì.<br/><br/>
# ğŸ” ë³€ìˆ˜ - SpringEL
íƒ€ì„ë¦¬í”„ì—ì„œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë³€ìˆ˜ í‘œí˜„ì‹ì„ ì‚¬ìš©í•œë‹¤.<br/>
**ë³€ìˆ˜ í‘œí˜„ì‹**: `${...}`<br/><br/>
ì´ ë³€ìˆ˜ í‘œí˜„ì‹ì—ëŠ” ìŠ¤í”„ë§ ELì´ë¼ëŠ” ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” í‘œí˜„ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br/><br/>
### SpringEL ë‹¤ì–‘í•œ í‘œí˜„ì‹ ì‚¬ìš©
`java/hello/thymeleaf/basic/BasicController`
```java
    @GetMapping("/variable")
    public String variable(Model model) {
        User userA = new User("userA", 10);
        User userB = new User("userB", 20);

        List<User> list = new ArrayList<>();
        list.add(userA);
        list.add(userB);

        Map<String, User> map = new HashMap<>();
        map.put("userA", userA);
        map.put("userB", userB);

        model.addAttribute("user", userA);
        model.addAttribute("users", list);
        model.addAttribute("userMap", map);

        return "basic/variable";
    }
```
modelì— ê°ì²´, List, Mapì„ ë„£ì–´ì¤€ë‹¤.<br/><br/>
`resources/templates/basic/variable.html`
```html
<ul>Object
    <li>${user.username} = <span th:text="${user.username}"></span></li>
    <li>${user['username']} = <span th:text="${user['username']}"></span></li>
    <li>${user.getUsername()} = <span th:text="${user.getUsername()}"></span></li>
</ul>
<ul>List
    <li>${users[0].username} = <span th:text="${users[0].username}"></span></li>
    <li>${users[0]['username']} = <span th:text="${users[0]['username']}"></span></li>
    <li>${users[0].getUsername()} = <span th:text="${users[0].getUsername()}"></span></li>
</ul>
<ul>Map
    <li>${userMap['userA'].username} = <span th:text="${userMap['userA'].username}"></span></li>
    <li>${userMap['userA']['username']} = <span th:text="${userMap['userA']['username']}"></span></li>
    <li>${userMap['userA'].getUsername()} = <span th:text="${userMap['userA'].getUsername()}"></span></li>
</ul>
```
ê°ì²´, List, Map ë³€ìˆ˜ì— ë‹´ê¸´ ë‚´ìš©ì„ ë‹¤ìŒ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ì—¬ ì¶œë ¥í•œë‹¤.<br/><br/>
- Object
  - `user.username`: userì˜ usernameì„ í”„ë¡œí¼í‹° ì ‘ê·¼ -> `user.getUsername()`
  - `user['username']`: ìœ„ì™€ ê°™ìŒ -> `user.getUsername()`
  - `user.getUsername()`: userì˜ `getUsername()`ì„ ì§ì ‘ í˜¸ì¶œ
- List
  - `users[0].username`: Listì—ì„œ ì²« ë²ˆì§¸ íšŒì›ì„ ì°¾ê³  username í”„ë¡œí¼í‹° ì ‘ê·¼ -> `list.get(0).getUsername()`
  - `users[0]['username']`: ìœ„ì™€ ê°™ìŒ
  - `users[0].getUsername()`: Listì—ì„œ ì²« ë²ˆì§¸ íšŒì›ì„ ì°¾ê³  ë©”ì„œë“œ ì§ì ‘ í˜¸ì¶œ
- Map
  - `userMap['userA'].username`: Mapì—ì„œ userAë¥¼ ì°¾ê³ , username í”„ë¡œí¼í‹° ì ‘ê·¼ -> `map.get("userA").getUsername()`
  - `userMap['userA']['username']`: ìœ„ì™€ ê°™ìŒ
  - `userMap['userA'].getUsername()`: Mapì—ì„œ userAë¥¼ ì°¾ê³  ë©”ì„œë“œ ì§ì ‘ í˜¸ì¶œ
<br/><br/>![image](https://github.com/jang9205/spring_study/assets/123082616/0c567d2a-f342-4d8c-8482-3f1792cc428b)<br/><br/>
### ì§€ì—­ ë³€ìˆ˜ ì„ ì–¸
`th:with`ë¥¼ ì‚¬ìš©í•˜ë©´ **ì§€ì—­ ë³€ìˆ˜**ë¥¼ ì„ ì–¸í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br/>
ì§€ì—­ ë³€ìˆ˜ëŠ” ì„ ì–¸í•œ íƒœê·¸ ì•ˆì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```html
<div th:with="first=${users[0]}">
    <p>ì²˜ìŒ ì‚¬ëŒì˜ ì´ë¦„ì€ <span th:text="${first.username}"></span></p>
</div>
```
<br/><br/>![image](https://github.com/jang9205/spring_study/assets/123082616/6e2529d2-fcd1-4d5e-a17b-1b3c3026899b)<br/><br/>
# ğŸ” ê¸°ë³¸ ê°ì²´ë“¤
íƒ€ì„ë¦¬í”„ëŠ” `${#locale}` ê°ì²´ë¥¼ ì œê³µí•œë‹¤.<br/><br/>
`${#request}`, `${#response}`, `${#session}`, `${#servletContext}` ê°ì²´ë“¤ë„ ì œê³µí–ˆì§€ë§Œ ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0ë¶€í„°ëŠ” ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.<br/>
ê·¸ë˜ì„œ ì§ì ‘ `model`ì— í•´ë‹¹ ê°ì²´ë¥¼ ì¶”ê°€í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.<br/><br/>
ë˜í•œ í¸ì˜ ê°ì²´ë„ ì œê³µí•œë‹¤.
- HTTP ìš”ì²­ íŒŒë¼ë¯¸í„° ì ‘ê·¼: `param`
  - ì˜ˆ) `${param.paramData}`
- HTTP ì„¸ì…˜ ì ‘ê·¼: `session`
  - ì˜ˆ) `${session.sessionData}`
- ìŠ¤í”„ë§ ë¹ˆ ì ‘ê·¼: `@`
  - ì˜ˆ) `${@helloBean.hello('Spring!')}`
<br/><br/>
##### 
`java/hello/thymeleaf/basic/BasicController`
```java
    @GetMapping("/basic-objects")
    public String basicObjects(Model model, HttpServletRequest request,
                               HttpServletResponse response, HttpSession session) {
        session.setAttribute("sessionData", "Hello Session");
        model.addAttribute("request", request);
        model.addAttribute("response", response);
        model.addAttribute("servletContext", request.getServletContext());
        return "basic/basic-objects";
    }

    @Component("helloBean")
    static class HelloBean {
        public String hello(String data) {
            return "Hello" + data;
        }
    }
```
`/resources/templates/basic/basic-objects.html`
```html
...
<h1>ì‹ ê¸°ë³¸ ê°ì²´ (Expression Basic Objects)</h1>
<ul>
    <li>request = <span th:text="${request}"></span></li>
    <li>response = <span th:text="${response}"></span></li>
    <li>session = <span th:text="${session}"></span></li>
    <li>servletContext = <span th:text="${servletContext}"></span></li>
    <li>locale = <span th:text="${#locale}"></span></li>
</ul>
<h1>í¸ì˜ ê°ì²´</h1>
<ul>
    <li>Request Parameter = <span th:text="${param.paramData}"></span></li>
    <li>session = <span th:text="${session.sessionData}"></span></li>
    <li>spring bean = <span th:text="${@helloBean.hello('Spring!')}"></span></li>
</ul>
...
```
<br/><br/>![image](https://github.com/jang9205/spring_study/assets/123082616/21a204bd-370f-4f17-a9ac-5f025ee98eed)<br/><br/>
# ğŸ” ìœ í‹¸ë¦¬í‹° ê°ì²´ì™€ ë‚ ì§œ
íƒ€ì„ë¦¬í”„ëŠ” ë¬¸ì, ìˆ«ì, ë‚ ì§œ, URI ë“±ì„ í¸ë¦¬í•˜ê²Œ ë‹¤ë£¨ëŠ” ë‹¤ì–‘í•œ ìœ í‹¸ë¦¬í‹° ê°ì²´ë“¤ì„ ì œê³µí•œë‹¤.<br/><br/>
íƒ€ì„ë¦¬í”„ ìœ í‹¸ë¦¬í‹° ê°ì²´: https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#expression-utility-objects<br/><br/>
ìœ í‹¸ë¦¬í‹° ê°ì²´ ì˜ˆì‹œ: https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#appendix-b-expression-utility-objects<br/><br/>
### íƒ€ì„ë¦¬í”„ ìœ í‹¸ë¦¬í‹° ê°ì²´ë“¤
- **#message**: ë©”ì‹œì§€, êµ­ì œí™” ì²˜ë¦¬
- **#uris**: URI ì´ìŠ¤ì¼€ì´í”„ ì§€ì›
- **#dates**: java.util.Date ì„œì‹ ì§€ì›
- **#calendars**: java.util.Calendar ì„œì‹ ì§€ì›
- **#temporals**: ìë°”8 ë‚ ì§œ ì„œì‹ ì§€ì›
- **#numbers**: ìˆ«ì ì„œì‹ ì§€ì›
- **#strings**: ë¬¸ì ê´€ë ¨ í¸ì˜ ê¸°ëŠ¥
- **#objects**: ê°ì²´ ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ
- **#bools**: boolean ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ
- **#arrays**: ë°°ì—´ ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ
- **#lists, #sets, #maps**: ì»¬ë ‰ì…˜ ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ
- **#ids**: ì•„ì´ë”” ì²˜ë¦¬ ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ, ë’¤ì—ì„œ ì„¤ëª…
<br/><br/>
### ìë°”8 ë‚ ì§œ
íƒ€ì„ë¦¬í”„ì—ì„œ ìë°”8 ë‚ ì§œì¸ `LocalDate`, `LocalDateTime`, `Instant`ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì¶”ê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•œë°,<br/>
ìŠ¤í”„ë§ ë¶€íŠ¸ íƒ€ì„ë¦¬í”„ë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìë™ìœ¼ë¡œ ì¶”ê°€ë˜ê³  í†µí•©ëœë‹¤.<br/><br/>
íƒ€ì„ë¦¬í”„ ìë°”8 ë‚ ì§œ ì§€ì› ë¼ì´ë¸ŒëŸ¬ë¦¬: `thymeleaf-extras-java8time`<br/>
ìë°”8 ë‚ ì§œìš© ìœ í‹¸ë¦¬í‹° ê°ì²´: `#temporals`<br/><br/>
`java/hello/thymeleaf/basic/BasicController`
```java
model.addAttribute("localDateTime", LocalDateTime.now());
return "basic/date";
```
`/resources/templates/basic/date.html`
```html
...
<h1>LocalDateTime</h1>
<ul>
    <li>default = <span th:text="${localDateTime}"></span></li>
    <li>yyyy-MM-dd HH:mm:ss = <span th:text="${#temporals.format(localDateTime, 'yyyy-MM-dd HH:mm:ss')}"></span></li>
</ul>
<h1>LocalDateTime - Utils</h1>
<ul>
    <li>${#temporals.day(localDateTime)} = <span th:text="${#temporals.day(localDateTime)}"></span></li>
    <li>${#temporals.month(localDateTime)} = <span th:text="${#temporals.month(localDateTime)}"></span></li>
    <li>${#temporals.monthName(localDateTime)} = <span th:text="${#temporals.monthName(localDateTime)}"></span></li>
    <li>${#temporals.monthNameShort(localDateTime)} = <span th:text="${#temporals.monthNameShort(localDateTime)}"></span></li>
    <li>${#temporals.year(localDateTime)} = <span th:text="${#temporals.year(localDateTime)}"></span></li>
    <li>${#temporals.dayOfWeek(localDateTime)} = <span th:text="${#temporals.dayOfWeek(localDateTime)}"></span></li>
    <li>${#temporals.dayOfWeekName(localDateTime)} = <span th:text="${#temporals.dayOfWeekName(localDateTime)}"></span></li>
    <li>${#temporals.dayOfWeekNameShort(localDateTime)} = <span th:text="${#temporals.dayOfWeekNameShort(localDateTime)}"></span></li>
    <li>${#temporals.hour(localDateTime)} = <span th:text="${#temporals.hour(localDateTime)}"></span></li>
    <li>${#temporals.minute(localDateTime)} = <span th:text="${#temporals.minute(localDateTime)}"></span></li>
    <li>${#temporals.second(localDateTime)} = <span th:text="${#temporals.second(localDateTime)}"></span></li>
    <li>${#temporals.nanosecond(localDateTime)} = <span th:text="${#temporals.nanosecond(localDateTime)}"></span></li>
</ul>
...
```
<br/><br/>![image](https://github.com/jang9205/spring_study/assets/123082616/d9a0017c-7209-45ec-97dc-2942e3e0e53e)<br/><br/>
# ğŸ” URL ë§í¬
íƒ€ì„ë¦¬í”„ì—ì„œ URLì„ ìƒì„±í•  ë•ŒëŠ” `@{...}` ë¬¸ë²•ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.<br/><br/>
`java/hello/thymeleaf/basic/BasicController`
```java
model.addAttribute("param1", "date1");
model.addAttribute("param2", "date2");
return "basic/link";
```
`/resources/templates/basic/link.html`
```html
    ...
    <li><a th:href="@{/hello}">basic url</a></li>
    <li><a th:href="@{/hello(param1=${param1}, param2=${param2})}">hello query param</a></li>
    <li><a th:href="@{/hello/{param1}/{param2}(param1=${param1}, param2=${param2})}">path variable</a></li>
    <li><a th:href="@{/hello/{param1}(param1=${param1}, param2=${param2})}">path variable + query parameter</a></li>
    ...
```
- ë‹¨ìˆœí•œ URL
  - `@{/hello}` -> `/hello`
- ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°
  - `@{/hello(param1=${param1}, param2=${param2})}` -> `/hello?param1=data1&param2=data2`
  - `()`ì— ìˆëŠ” ë¶€ë¶„ì€ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ì²˜ë¦¬ëœë‹¤.
- ê²½ë¡œ ë³€ìˆ˜
  - `@{/hello/{param1}/{param2}(param1=${param1}, param2=${param2})}` -> `/hello/data1/data2`
  - URL ê²½ë¡œìƒì— ë³€ìˆ˜ê°€ ìˆìœ¼ë©´ `()` ë¶€ë¶„ì€ ê²½ë¡œ ë³€ìˆ˜ë¡œ ì²˜ë¦¬ëœë‹¤.
- ê²½ë¡œ ë³€ìˆ˜ + ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°
  - `@{/hello/{param1}(param1=${param1}, param2=${param2})}` -> `/hello/data1?param2=data2`
  - ê²½ë¡œ ë³€ìˆ˜ì™€ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ìƒëŒ€ê²½ë¡œ, ì ˆëŒ€ê²½ë¡œ
  - `/hello`: ì ˆëŒ€ ê²½ë¡œ
  - `hello`: ìƒëŒ€ ê²½ë¡œ
<br/><br/>
# ğŸ” ë¦¬í„°ëŸ´
ë¦¬í„°ëŸ´ì€ ì†ŒìŠ¤ ì½”ë“œìƒì— ê³ ì •ëœ ê°’ì„ ë§í•˜ëŠ” ìš©ì–´ì´ë‹¤.<br/>
íƒ€ì„ë¦¬í”„ì—ì„œ ë¬¸ì ë¦¬í„°ëŸ´ì€ í•­ìƒ `'`(ì‘ì€ ë”°ì˜´í‘œ)ë¡œ ê°ì‹¸ì•¼ í•œë‹¤.<br/><br/>
ì˜ˆ) `<span th:text="'hello world!'">`<br/><br/>
í•˜ì§€ë§Œ ë¬¸ìê°€ ê³µë°± ì—†ì´ ì­‰ ì´ì–´ì§„ë‹¤ë©´ í•˜ë‚˜ì˜ ì˜ë¯¸ìˆëŠ” í† í°ìœ¼ë¡œ ì¸ì§€í•´ì„œ ì‘ì€ ë”°ì˜´í‘œë¥¼ ìƒëµí•  ìˆ˜ ìˆë‹¤.<br/><br/>
ì˜ˆ) `<span th:text="hello">`<br/><br/>
`java/hello/thymeleaf/basic/BasicController`
```java
model.addAttribute("data", "Spring!");
return "basic/literal";
```
`/resources/templates/basic/literal.html`
```html
    ...
    <li>'hello' + ' world!' = <span th:text="'hello' + ' world!'"></span></li>
    <li>'hello world!' = <span th:text="'hello world!'"></span></li>
    <li>'hello ' + ${data} = <span th:text="'hello ' + ${data}"></span></li>
    <li>ë¦¬í„°ëŸ´ ëŒ€ì²´ |hello ${data}| = <span th:text="|hello ${data}|"></span></li>
    ...
```
<br/><br/>![image](https://github.com/jang9205/spring_study/assets/123082616/689ebb29-02f0-4d7d-b6a9-de37d408d683)<br/><br/>
### ë¦¬í„°ëŸ´ ëŒ€ì²´(Literal substitutions)
`<span th:text="|hello ${data}|">`<br/><br/>
ë¦¬í„°ëŸ´ ëŒ€ì²´ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ë©´ ë§ˆì¹˜ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼ í¸ë¦¬í•˜ë‹¤.<br/><br/>
# ğŸ” ì—°ì‚°
íƒ€ì„ë¦¬í”„ ì—°ì‚°ì€ ìë°”ì™€ í¬ê²Œ ë‹¤ë¥´ì§€ ì•Šì§€ë§Œ, HTML ì•ˆì—ì„œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— HTML ì—”í‹°í‹°ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì„ ì£¼ì˜í•´ì•¼ í•œë‹¤.<br/><br/>
`java/hello/thymeleaf/basic/BasicController`
```java
model.addAttribute("nullDate", null);
model.addAttribute("data", "Spring!");
return "basic/operation";
```
`/resources/templates/basic/operation.html`
```html
    ...
    <li>ì‚°ìˆ  ì—°ì‚°
        <ul>
            <li>10 + 2 = <span th:text="10 + 2"></span></li>
            <li>10 % 2 == 0 = <span th:text="10 % 2 == 0"></span></li>
        </ul>
    </li>
    <li>ë¹„êµ ì—°ì‚°
        <ul>
            <li>1 > 10 = <span th:text="1 &gt; 10"></span></li>
            <li>1 gt 10 = <span th:text="1 gt 10"></span></li>
            <li>1 >= 10 = <span th:text="1 >= 10"></span></li>
            <li>1 ge 10 = <span th:text="1 ge 10"></span></li>
            <li>1 == 10 = <span th:text="1 == 10"></span></li>
            <li>1 != 10 = <span th:text="1 != 10"></span></li>
        </ul>
    </li>
    <li>ì¡°ê±´ì‹
        <ul>
            <li>(10 % 2 == 0)? 'ì§ìˆ˜':'í™€ìˆ˜' = <span th:text="(10 % 2 == 0)? 'ì§ìˆ˜':'í™€ìˆ˜'"></span></li>
        </ul>
    </li>
    <li>Elvis ì—°ì‚°ì
        <ul>
            <li>${data}?: 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.' = <span th:text="${data}?: 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.'"></span></li>
            <li>${nullData}?: 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.' = <span th:text="${nullData}?: 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.'"></span></li>
        </ul>
    </li>
    <li>No-Operation
        <ul>
            <li>${data}?: _ = <span th:text="${data}?: _">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</span></li>
            <li>${nullData}?: _ = <span th:text="${nullData}?: _">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</span></li>
        </ul>
    </li>
    ...
```
<br/><br/>![image](https://github.com/jang9205/spring_study/assets/123082616/b62d3912-53b2-42d3-a13a-94c2cf79a906)<br/><br/>
- **ë¹„êµì—°ì‚°**: HTML ì—”í‹°í‹°ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì„ ì£¼ì˜
  - `>` (gt), `<` (lt), `>=` (ge), `<=` (le), `!` (not), `==` (eq), `!=` (neq, ne)
- **ì¡°ê±´ì‹**: ìë°”ì˜ ì¡°ê±´ì‹ê³¼ ìœ ì‚¬
- **Elvis ì—°ì‚°ì**: ì¡°ê±´ì‹ì˜ í¸ì˜ ë²„ì „
  - `A ?: B`: Aê°€ ì°¸ì¼ ê²½ìš° Aë¥¼ ë°˜í™˜, ê±°ì§“ì¼ ê²½ìš° Bë¥¼ ë°˜í™˜
- **No-Operation**: `_`ì¸ ê²½ìš° ë§ˆì¹˜ íƒ€ì„ë¦¬í”„ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²ƒì²˜ëŸ¼ ë™ì‘,  ì´ê²ƒì„ ì˜ ì‚¬ìš©í•˜ë©´ HTMLì˜ ë‚´ìš© ê·¸ëŒ€ë¡œ í™œìš©í•  ìˆ˜ ìˆìŒ
<br/><br/>
# ğŸ” ì†ì„± ê°’ ì„¤ì •
`java/hello/thymeleaf/basic/BasicController`
```java
return "basic/attribute";
```
`/resources/templates/basic/attribute.html`
```html
...
<h1>ì†ì„± ì„¤ì •</h1>
<input type="text" name="mock" th:name="userA" />
<h1>ì†ì„± ì¶”ê°€</h1>
- th:attrappend = <input type="text" class="text" th:attrappend="class='large'" /><br/>
- th:attrprepend = <input type="text" class="text" th:attrprepend="class='large '" /><br/>
- th:classappend = <input type="text" class="text" th:classappend="large" /><br/>
<h1>checked ì²˜ë¦¬</h1>
- checked o <input type="checkbox" name="active" th:checked="true" /><br/>
- checked x <input type="checkbox" name="active" th:checked="false" /><br/>
- checked=false <input type="checkbox" name="active" checked="false" /><br/>
...
```
![image](https://github.com/jang9205/spring_study/assets/123082616/2fdf33c3-35d4-4067-a6d1-741d25dbaec5)
### ì†ì„± ì„¤ì •
`th:*` ì†ì„±ì„ ì§€ì •í•˜ë©´ íƒ€ì„ë¦¬í”„ëŠ” ê¸°ì¡´ ì†ì„±ì„ `th:*`ë¡œ ì§€ì •í•œ ì†ì„±ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤. ê¸°ì¡´ ì†ì„±ì´ ì—†ë‹¤ë©´ ìƒˆë¡œ ë§Œë“ ë‹¤.
- `<input type="text" name="mock" th:name="userA" />` **->** íƒ€ì„ë¦¬í”„ ë Œë”ë§ í›„: `<input type="text" name="userA" />`
<br/><br/>
### ì†ì„± ì¶”ê°€
`th:attrappend`: ì†ì„± ê°’ì˜ ë’¤ì— ê°’ì„ ì¶”ê°€í•œë‹¤.<br/>
`th:attrprepend`: ì†ì„± ê°’ì˜ ì•ì— ê°’ì„ ì¶”ê°€í•œë‹¤.<br/>
`th:classappend`: class ì†ì„±ì— ìì—°ìŠ¤ëŸ½ê²Œ ì¶”ê°€í•œë‹¤.<br/><br/>
### checked ì²˜ë¦¬
HTMLì—ì„œëŠ” `<input type="checkbox" name="active" checked="false" />`ì¸ ê²½ìš°ì—ë„<br/>
checked ì†ì„±ì´ ìˆê¸° ë•Œë¬¸ì— checked ì²˜ë¦¬ê°€ ë˜ì–´ë²„ë¦°ë‹¤.<br/><br/>
ì¦‰, HTMLì—ì„œ checked ì†ì„±ì€ checked ì†ì„±ì˜ ê°’ê³¼ ìƒê´€ì—†ì´ checked ë¼ëŠ” ì†ì„±ë§Œ ìˆì–´ë„ ì²´í¬ê°€ ëœë‹¤.<br/><br/>
íƒ€ì„ë¦¬í”„ì˜ `th:checked`ëŠ” ê°’ì´ `false`ì¸ ê²½ìš° checked ì†ì„± ìì²´ë¥¼ ì œê±°í•œë‹¤.<br/>
- `<input type="checkbox" name="active" th:checked="false" />` **->** íƒ€ì„ë¦¬í”„ ë Œë”ë§ í›„: `<input type="checkbox" name="active" />`
<br/><br/>
# ğŸ” ë°˜ë³µ
íƒ€ì„ë¦¬í”„ì—ì„œ ë°˜ë³µì€ `th:each`ë¥¼ ì‚¬ìš©í•œë‹¤. ì¶”ê°€ë¡œ ë°˜ë³µì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ìƒíƒœ ê°’ì„ ì§€ì›í•œë‹¤.<br/><br/>
`java/hello/thymeleaf/basic/BasicController`
```java
        addUsers(model);
        return "basic/each";
    }

    private void addUsers(Model model) {
        List<User> list = new ArrayList<>();
        list.add(new User("UserA", 10));
        list.add(new User("UserB", 20));
        list.add(new User("UserC", 30));

        model.addAttribute("users", list);
    }
```
`/resources/templates/basic/each.html`
```html
...
<h1>ê¸°ë³¸ í…Œì´ë¸”</h1>
<table border="1">
    <tr>
        <th>username</th>
        <th>age</th>
    </tr>
    <tr th:each="user : ${users}">
        <td th:text="${user.username}">username</td>
        <td th:text="${user.age}">0</td>
    </tr>
</table>
<h1>ë°˜ë³µ ìƒíƒœ ìœ ì§€</h1>
<table border="1">
    <tr>
        <th>count</th>
        <th>username</th>
        <th>age</th>
        <th>etc</th>
    </tr>
    <tr th:each="user, userStat : ${users}">
        <td th:text="${userStat.count}">username</td>
        <td th:text="${user.username}">username</td>
        <td th:text="${user.age}">0</td>
        <td>
            index = <span th:text="${userStat.index}"></span>
            count = <span th:text="${userStat.count}"></span>
            size = <span th:text="${userStat.size}"></span>
            even? = <span th:text="${userStat.even}"></span>
            odd? = <span th:text="${userStat.odd}"></span>
            first? = <span th:text="${userStat.first}"></span>
            last? = <span th:text="${userStat.last}"></span>
            current = <span th:text="${userStat.current}"></span>
        </td>
    </tr>
</table>
...
```
![image](https://github.com/jang9205/spring_study/assets/123082616/23a7f136-4e1d-4cf2-aebb-357bc2ba5c76)
### ë°˜ë³µ ê¸°ëŠ¥
`<tr th:each="user : ${users}">`
- ë°˜ë³µì‹œ ì˜¤ë¥¸ìª½ ì»¬ë ‰ì…˜(`${users}`)ì˜ ê°’ì„ í•˜ë‚˜ì”© êº¼ë‚´ì„œ ì™¼ìª½ ë³€ìˆ˜(`user`)ì— ë‹´ì•„ì„œ íƒœê·¸ë¥¼ ë°˜ë³µ ì‹¤í–‰í•œë‹¤.
- `th:each`ëŠ” `List`ë¿ë§Œ ì•„ë‹ˆë¼ ë°°ì—´, `java.util.Iterable`, `java.util.Enumeration`ì„ êµ¬í˜„í•œ ëª¨ë“  ê°ì²´ë¥¼ ë°˜ë³µì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. `Map`ë„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë° ì´ ê²½ìš° ë³€ìˆ˜ì— ë‹´ê¸°ëŠ” ê°’ì€ `Map.Entry`ì´ë‹¤.
<br/><br/>
### ë°˜ë³µ ìƒíƒœ ìœ ì§€
`<tr th:each="user, userStat : ${users}">`
- ë°˜ë³µì˜ ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•´ì„œ ë°˜ë³µì˜ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
- ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” ìƒëµ ê°€ëŠ¥í•œë°, ìƒëµí•˜ë©´ ì§€ì •í•œ ë³€ìˆ˜ëª…(`user`) + `Stat`ê°€ ëœë‹¤.
<br/><br/>
### ë°˜ë³µ ìƒíƒœ ìœ ì§€ ê¸°ëŠ¥
- **index**: 0ë¶€í„° ì‹œì‘í•˜ëŠ” ê°’
- **count**: 1ë¶€í„° ì‹œì‘í•˜ëŠ” ê°’
- **size**: ì „ì²´ ì‚¬ì´ì¦ˆ
- **even**, **odd**: í™€ìˆ˜, ì§ìˆ˜ ì—¬ë¶€(boolean)
- **first**, **last**: ì²˜ìŒ, ë§ˆì§€ë§‰ ì—¬ë¶€(boolean)
- **current**: í˜„ì¬ ê°ì²´
<br/><br/>
# ğŸ” ì¡°ê±´ë¶€ í‰ê°€
íƒ€ì„ë¦¬í”„ì˜ ì¡°ê±´ì‹: `if`, `unless`(ifì˜ ë°˜ëŒ€)<br/><br/>
`java/hello/thymeleaf/basic/BasicController`
```java
addUsers(model);
return "basic/condition";
```
`/resources/templates/basic/condition.html`
```html
...
<h1>if, unless</h1>
<table border="1">
    <tr>
        <th>count</th>
        <th>username</th>
        <th>age</th>
    </tr>
    <tr th:each="user, userStat : ${users}">
        <td th:text="${userStat.count}">1</td>
        <td th:text="${user.username}">username</td>
        <td>
            <span th:text="${user.age}">0</span>
            <span th:text="'ë¯¸ì„±ë…„ì'" th:if="${user.age lt 20}"></span>
            <span th:text="'ë¯¸ì„±ë…„ì'" th:unless="${user.age ge 20}"></span>
        </td>
    </tr>
</table>
<h1>switch</h1>
<table border="1">
    <tr>
        <th>count</th>
        <th>username</th>
        <th>age</th>
    </tr>
    <tr th:each="user, userStat : ${users}">
        <td th:text="${userStat.count}">1</td>
        <td th:text="${user.username}">username</td>
        <td th:switch="${user.age}">
            <span th:case="10">10ì‚´</span>
            <span th:case="20">20ì‚´</span>
            <span th:case="*">ê¸°íƒ€</span>
        </td>
    </tr>
</table>
...
```
![image](https://github.com/jang9205/spring_study/assets/123082616/4a155edd-f5f3-480a-90ab-d33854c72dca)
### if, unless
íƒ€ì„ë¦¬í”„ëŠ” í•´ë‹¹ ì¡°ê±´ì´ ë§ì§€ ì•Šìœ¼ë©´ íƒœê·¸ ìì²´ë¥¼ ë Œë”ë§í•˜ì§€ ì•ŠëŠ”ë‹¤.<br/><br/>
### switch
`*`ì€ ë§Œì¡±í•˜ëŠ” ì¡°ê±´ì´ ì—†ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ë””í´íŠ¸ì´ë‹¤.<br/><br/>
# ğŸ” ì£¼ì„
`java/hello/thymeleaf/basic/BasicController`
```java
model.addAttribute("data", "Spring!");
return "basic/comments";
```
`/resources/templates/basic/comments.html`
```html
...
<h1>ì˜ˆì‹œ</h1>
<span th:text="${data}">html data</span>
<h1>1. í‘œì¤€ HTML ì£¼ì„</h1>
<!--
<span th:text="${data}">html data</span>
-->
<h1>2. íƒ€ì„ë¦¬í”„ íŒŒì„œ ì£¼ì„</h1>
<!--/* [[${data}]] */-->
<!--/*-->
<span th:text="${data}">html data</span>
<!--*/-->
<h1>3. íƒ€ì„ë¦¬í”„ í”„ë¡œí† íƒ€ì… ì£¼ì„</h1>
<!--/*/
<span th:text="${data}">html data</span>
/*/-->
...
```
<br/><br/>ê²°ê³¼
```html
<h1>ì˜ˆì‹œ</h1>
<span>Spring!</span>
<h1>1. í‘œì¤€ HTML ì£¼ì„</h1>
<!--
<span th:text="${data}">html data</span>
-->
<h1>2. íƒ€ì„ë¦¬í”„ íŒŒì„œ ì£¼ì„</h1>


<h1>3. íƒ€ì„ë¦¬í”„ í”„ë¡œí† íƒ€ì… ì£¼ì„</h1>

<span>Spring!</span>
```
### í‘œì¤€ HTML ì£¼ì„
ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í‘œì¤€ HTML ì£¼ì„ì€ íƒ€ì„ë¦¬í”„ê°€ ë Œë”ë§ í•˜ì§€ ì•Šê³ , ê·¸ëŒ€ë¡œ ë‚¨ê²¨ë‘”ë‹¤.
### íƒ€ì„ë¦¬í”„ íŒŒì„œ ì£¼ì„
íƒ€ì„ë¦¬í”„ íŒŒì„œ ì£¼ì„ì€ íƒ€ì„ë¦¬í”„ì˜ ì§„ì§œ ì£¼ì„ì´ë‹¤. ë Œë”ë§ì—ì„œ ì£¼ì„ ë¶€ë¶„ì„ ì œê±°í•œë‹¤.
### íƒ€ì„ë¦¬í”„ í”„ë¡œí† íƒ€ì… ì£¼ì„
HTML íŒŒì¼ì„ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ê·¸ëŒ€ë¡œ ì—´ì–´ë³´ë©´ ì´ ë¶€ë¶„ì€ HTML ì£¼ì„ì´ê¸° ë•Œë¬¸ì— ì›¹ ë¸Œë¼ìš°ì €ê°€ ë Œë”ë§í•˜ì§€ ì•ŠëŠ”ë‹¤.<br/>
í•˜ì§€ë§Œ íƒ€ì„ë¦¬í”„ ë Œë”ë§ì„ ê±°ì¹˜ë©´ ì´ ë¶€ë¶„ì´ ì •ìƒ ë Œë”ë§ ëœë‹¤.<br/><br/>
# ğŸ” ë¸”ë¡
`<th:block>`ì€ HTML íƒœê·¸ê°€ ì•„ë‹Œ íƒ€ì„ë¦¬í”„ì˜ ìœ ì¼í•œ ìì²´ íƒœê·¸ë‹¤.<br/><br/>
`java/hello/thymeleaf/basic/BasicController`
```java
addUsers(model);
return "basic/block";
```
`/resources/templates/basic/block.html`
```html
...
<th:block th:each="user : ${users}">
    <div>
        ì‚¬ìš©ì ì´ë¦„1 <span th:text="${user.username}"></span>
        ì‚¬ìš©ì ë‚˜ì´1 <span th:text="${user.age}"></span>
    </div>
    <div>
        ìš”ì•½ <span th:text="${user.username} + ' / ' + ${user.age}"></span>
    </div>
</th:block>
...
```
![image](https://github.com/jang9205/spring_study/assets/123082616/3a5148cf-7451-4418-be17-d05ed297e344)<br/><br/>
íƒ€ì„ë¦¬í”„ëŠ” HTML íƒœê·¸ì•ˆì— ì†ì„±ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì •ì˜í•´ì„œ ì‚¬ìš©í•˜ì§€ë§Œ, ìœ„ ì˜ˆì²˜ëŸ¼ ì• ë§¤í•œ ê²½ìš°ì—ëŠ” `<th:block>`ì„ ì‚¬ìš©í•œë‹¤.<br/>
`<th:block>`ì€ ë Œë”ë§ì‹œ ì œê±°ëœë‹¤.<br/><br/>
# ğŸ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸
íƒ€ì„ë¦¬í”„ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.<br/>
`<script th:inline="javascript">`<br/><br/>
`java/hello/thymeleaf/basic/BasicController`
```java
model.addAttribute("user", new User("UserA", 10));
addUsers(model);
return "basic/javascript";
```
`/resources/templates/basic/javascript.html`
```html
...
<!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ì‚¬ìš© ì „ -->
<script>
    var username = [[${user.username}]];
    var age = [[${user.age}]];

    //ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿
    var username2 = /*[[${user.username}]]*/ "test username";

    //ê°ì²´
    var user = [[${user}]];
</script>

<!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ì‚¬ìš© í›„ -->
<script th:inline="javascript">
    var username = [[${user.username}]];
    var age = [[${user.age}]];

    //ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿
    var username2 = /*[[${user.username}]]*/ "test username";

    //ê°ì²´
    var user = [[${user}]];
</script>
...
```
<br/><br/>**ê²°ê³¼**
```html
...
<!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ì‚¬ìš© ì „ -->
<script>
    var username = UserA;
    var age = 10;

    //ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿
    var username2 = /*UserA*/ "test username";

    //ê°ì²´
    var user = BasicController.User(username=UserA, age=10);
</script>

<!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ì‚¬ìš© í›„ -->
<script>
    var username = "UserA";
    var age = 10;

    //ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿
    var username2 = "UserA";

    //ê°ì²´
    var user = {"username":"UserA","age":10};
</script>
...
```
### í…ìŠ¤íŠ¸ ë Œë”ë§
`var username = [[${user.username}]];`
- ì¸ë¼ì¸ ì‚¬ìš© ì „ -> `var username = userA;`
- ì¸ë¼ì¸ ì‚¬ìš© í›„ -> `var username = "userA";`
- ë¬¸ì íƒ€ì…ì¸ ê²½ìš° `"`ë¥¼ í¬í•¨í•´ì¤€ë‹¤.
- ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë¬¸ì œê°€ ë  ìˆ˜ ìˆëŠ” ë¬¸ìê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬ë¥¼ í•´ì¤€ë‹¤.
<br/><br/>
### ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿
`var username2 = /*[[${user.username}]]*/ "test username";`
- ì¸ë¼ì¸ ì‚¬ìš© ì „ -> `var username2 = /*userA*/ "test username";`
- ì¸ë¼ì¸ ì‚¬ìš© í›„ -> `var username2 = "userA";`
- ì¸ë¼ì¸ ì‚¬ìš© í›„ ê²°ê³¼ë¥¼ ë³´ë©´ ì£¼ì„ ë¶€ë¶„ì´ ì œê±°ë˜ê³ , ê¸°ëŒ€í•œ `â€œuserAâ€`ê°€ ì •í™•í•˜ê²Œ ì ìš©ëœë‹¤.
- ë Œë”ë§ì´ ë˜ì§€ ì•Šì•˜ì„ ê²½ìš° HTML íŒŒì¼ì„ ì—´ì–´ ë³´ë©´ `â€œtest usernameâ€`ë§Œ ë³´ì¸ë‹¤.
<br/><br/>
### ê°ì²´
`var user = [[${user}]];`
- ì¸ë¼ì¸ ì‚¬ìš© ì „ -> `var user = BasicController.User(username=userA, age=10);`
- ì¸ë¼ì¸ ì‚¬ìš© í›„ -> `var user = {"username":"userA","age":10};`
- ì¸ë¼ì¸ ì‚¬ìš© ì „ì€ ê°ì²´ì˜ toString()ì´ í˜¸ì¶œëœ ê°’ì´ë‹¤.
- ì¸ë¼ì¸ ì‚¬ìš© í›„ëŠ” ê°ì²´ë¥¼ JSONìœ¼ë¡œ ë³€í™˜í•´ì¤€ë‹¤.
<br/><br/>
### ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ each
```html
<script th:inline="javascript">
    [# th:each="user, stat : ${users}"]
    var user[[${stat.count}]] = [[${user}]];
    [/]
</script>
```
<br/><br/>
# ğŸ” í…œí”Œë¦¿ ì¡°ê°
`java/hello/thymeleaf/basic/TemplateController`
```java
return "/template/fragment/fragmentMain";
```
`/resources/templates/template/fragment/footer.html`
```html
...
<footer th:fragment="copy">
    í‘¸í„° ìë¦¬ ì…ë‹ˆë‹¤.
</footer>
<footer th:fragment="copyParam (param1, param2)">
    <p>íŒŒë¼ë¯¸í„° ìë¦¬ ì…ë‹ˆë‹¤.</p>
    <p th:text="${param1}"></p>
    <p th:text="${param2}"></p>
</footer>
...
```
`th:fragment`ê°€ ìˆëŠ” íƒœê·¸ëŠ” ë‹¤ë¥¸ê³³ì— í¬í•¨ë˜ëŠ” ì½”ë“œ ì¡°ê°ì´ë‹¤.<br/><br/>
`/resources/templates/template/fragment/fragmentMain.html`
```html
<h1>ë¶€ë¶„ í¬í•¨</h1>
<h2>ë¶€ë¶„ í¬í•¨ insert</h2>
<div th:insert="~{template/fragment/footer :: copy}"></div>
<h2>ë¶€ë¶„ í¬í•¨ replace</h2>
<div th:replace="~{template/fragment/footer :: copy}"></div>
<h2>ë¶€ë¶„ í¬í•¨ ë‹¨ìˆœ í‘œí˜„ì‹</h2>
<div th:replace="template/fragment/footer :: copy"></div>
<h1>íŒŒë¼ë¯¸í„° ì‚¬ìš©</h1>
<div th:replace="~{template/fragment/footer :: copyParam ('ë°ì´í„°1', 'ë°ì´í„°2')}"></div>
```
`template/fragment/footer :: copy`: `template/fragment/footer.html` í…œí”Œë¦¿ì— ìˆëŠ” `th:fragment="copy"` ë¼ëŠ” ë¶€ë¶„ì„<br/>
í…œí”Œë¦¿ ì¡°ê°ìœ¼ë¡œ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.<br/><br/>
![image](https://github.com/jang9205/spring_study/assets/123082616/0902c8a8-7d9a-4471-8b6f-34f6bee90ff4)<br/><br/>
### ë¶€ë¶„ í¬í•¨ insert
`<div th:insert="~{template/fragment/footer :: copy}"></div>`
- `th:insert`ë¥¼ ì‚¬ìš©í•˜ë©´ í˜„ì¬ íƒœê·¸(`div`) ë‚´ë¶€ì— ì¶”ê°€í•œë‹¤.
```html
<h2>ë¶€ë¶„ í¬í•¨ insert</h2>
<div>
<footer>
í‘¸í„° ìë¦¬ ì…ë‹ˆë‹¤.
</footer>
</div>
```
<br/><br/>
### ë¶€ë¶„ í¬í•¨ replace
`<div th:replace="~{template/fragment/footer :: copy}"></div>`
- `th:replace`ë¥¼ ì‚¬ìš©í•˜ë©´ í˜„ì¬ íƒœê·¸(`div`)ë¥¼ ëŒ€ì²´í•œë‹¤.
```html
<h2>ë¶€ë¶„ í¬í•¨ replace</h2>
<footer>
í‘¸í„° ìë¦¬ ì…ë‹ˆë‹¤.
</footer>
```
<br/><br/>
### ë¶€ë¶„ í¬í•¨ ë‹¨ìˆœ í‘œí˜„ì‹
`<div th:replace="template/fragment/footer :: copy"></div>`
- `~{...}`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì›ì¹™ì´ì§€ë§Œ í…œí”Œë¦¿ ì¡°ê°ì„ ì‚¬ìš©í•˜ëŠ” ì½”ë“œê°€ ë‹¨ìˆœí•˜ë©´ ì´ ë¶€ë¶„ì„ ìƒëµí•  ìˆ˜ ìˆë‹¤.
<br/><br/>
### íŒŒë¼ë¯¸í„° ì‚¬ìš©
`<div th:replace="~{template/fragment/footer :: copyParam ('ë°ì´í„°1', 'ë°ì´í„°2')}"></div>`
- íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•´ì„œ ë™ì ìœ¼ë¡œ ì¡°ê°ì„ ë Œë”ë§ í•  ìˆ˜ë„ ìˆë‹¤.
```html
<h1>íŒŒë¼ë¯¸í„° ì‚¬ìš©</h1>
<footer>
<p>íŒŒë¼ë¯¸í„° ìë¦¬ ì…ë‹ˆë‹¤.</p>
<p>ë°ì´í„°1</p>
<p>ë°ì´í„°2</p>
</footer>
```
<br/><br/>
# ğŸ” í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ1
ë ˆì´ì•„ì›ƒ ê°œë…ì„ ë‘ê³ , ê·¸ ë ˆì´ì•„ì›ƒì— í•„ìš”í•œ ì½”ë“œ ì¡°ê°ì„ ì „ë‹¬í•´ì„œ ì™„ì„±í•œë‹¤.<br/><br/>
`java/hello/thymeleaf/basic/TemplateController`
```java
return "template/layout/layoutMain";
```
`/resources/templates/template/layout/base.html`
```html
...
<head th:fragment="common_header(title,links)">
    <title th:replace="${title}">ë ˆì´ì•„ì›ƒ íƒ€ì´í‹€</title>
    <!-- ê³µí†µ -->
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/awesomeapp.css}">
    <link rel="shortcut icon" th:href="@{/images/favicon.ico}">
    <script type="text/javascript" th:src="@{/sh/scripts/codebase.js}"></script>
    <!-- ì¶”ê°€ -->
    <th:block th:replace="${links}" />
</head>
```
`/resources/templates/template/layout/layoutMain.html`
```html
...
<head th:replace="template/layout/base :: common_header(~{::title},~{::link})">
    <title>ë©”ì¸ íƒ€ì´í‹€</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/themes/smoothness/jquery-ui.css}">
</head>
<body>
ë©”ì¸ ì»¨í…ì¸ 
</body>
...
```
`common_header(~{::title},~{::link})`: `::title`ì€ í˜„ì¬ í˜ì´ì§€ì˜ title íƒœê·¸ë“¤ì„ ì „ë‹¬í•˜ê³ , `::link`ëŠ” í˜„ì¬ í˜ì´ì§€ì˜ link íƒœê·¸ë“¤ì„ ì „ë‹¬í•œë‹¤.<br/><br/>
**ê²°ê³¼**
```html
...
<head>
    <title>ë©”ì¸ íƒ€ì´í‹€</title>
    <!-- ê³µí†µ -->
    <link rel="stylesheet" type="text/css" media="all" href="/css/awesomeapp.css">
    <link rel="shortcut icon" href="/images/favicon.ico">
    <script type="text/javascript" src="/sh/scripts/codebase.js"></script>
    <!-- ì¶”ê°€ -->
    <link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/themes/smoothness/jquery-ui.css">
</head>
<body>
ë©”ì¸ ì»¨í…ì¸ 
</body>
...
```
ë©”ì¸ íƒ€ì´í‹€ì´ ì „ë‹¬í•œ ë¶€ë¶„ìœ¼ë¡œ êµì²´ë˜ì—ˆë‹¤.<br/>
ê³µí†µ ë¶€ë¶„ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ê³ , ì¶”ê°€ ë¶€ë¶„ì— ì „ë‹¬í•œ `<link>`ë“¤ì´ í¬í•¨ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br/><br/>
# ğŸ” í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ2
### í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ í™•ì¥
ì•ì„œ ì´ì•¼ê¸°í•œ ê°œë…ì„ `<head>` ì •ë„ì—ë§Œ ì ìš©í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ `<html>` ì „ì²´ì— ì ìš©í•  ìˆ˜ë„ ìˆë‹¤.<br/><br/>
`java/hello/thymeleaf/basic/TemplateController`
```java
return "template/layoutExtend/layoutExtendMain";
```
`/resources/templates/template/layoutExtend/layoutFile.html`
```html
...
<html th:fragment="layout (title, content)" xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:replace="${title}">ë ˆì´ì•„ì›ƒ íƒ€ì´í‹€</title>
</head>
<body>
<h1>ë ˆì´ì•„ì›ƒ H1</h1>
<div th:replace="${content}">
    <p>ë ˆì´ì•„ì›ƒ ì»¨í…ì¸ </p>
</div>
<footer>
    ë ˆì´ì•„ì›ƒ í‘¸í„°
</footer>
</body>
</html>
```
`layoutFile.html`ì„ ë³´ë©´ ê¸°ë³¸ ë ˆì´ì•„ì›ƒì„ ê°€ì§€ê³  ìˆëŠ”ë°, `<html>`ì— `th:fragment` ì†ì„±ì´ ì •ì˜ë˜ì–´ ìˆë‹¤.<br/>
ì´ ë ˆì´ì•„ì›ƒ íŒŒì¼ì„ ê¸°ë³¸ìœ¼ë¡œ í•˜ê³  ì—¬ê¸°ì— í•„ìš”í•œ ë‚´ìš©ì„ ì „ë‹¬í•´ì„œ ë¶€ë¶„ë¶€ë¶„ ë³€ê²½í•˜ëŠ” ê²ƒìœ¼ë¡œ ì´í•´í•˜ë©´ ëœë‹¤.<br/><br/>
`/resources/templates/template/layoutExtend/layoutExtendMain.html`
```html
...
<html th:replace="~{template/layoutExtend/layoutFile :: layout(~{::title}, ~{::section})}"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ë©”ì¸ í˜ì´ì§€ íƒ€ì´í‹€</title>
</head>
<body>
<section>
    <p>ë©”ì¸ í˜ì´ì§€ ì»¨í…ì¸ </p>
    <div>ë©”ì¸ í˜ì´ì§€ í¬í•¨ ë‚´ìš©</div>
</section>
</body>
</html>
```
`layoutExtendMain.html`ëŠ” í˜„ì¬ í˜ì´ì§€ì¸ë°, `<html>` ìì²´ë¥¼ `th:replace`ë¥¼ ì‚¬ìš©í•´ì„œ ë³€ê²½í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br/>
ê²°êµ­ `layoutFile.html`ì— í•„ìš”í•œ ë‚´ìš©ì„ ì „ë‹¬í•˜ë©´ì„œ `<html>` ìì²´ë¥¼ `layoutFile.html`ë¡œ ë³€ê²½í•œë‹¤.<br/><br/>
**ì‹¤í–‰**
```html
...
<html>
<head>
    <title>ë©”ì¸ í˜ì´ì§€ íƒ€ì´í‹€</title>
</head>
<body>
<h1>ë ˆì´ì•„ì›ƒ H1</h1>
<section>
    <p>ë©”ì¸ í˜ì´ì§€ ì»¨í…ì¸ </p>
    <div>ë©”ì¸ í˜ì´ì§€ í¬í•¨ ë‚´ìš©</div>
</section>
<footer>
    ë ˆì´ì•„ì›ƒ í‘¸í„°
</footer>
</body>
</html>
```